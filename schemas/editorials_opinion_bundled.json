{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "editorials_opinion.schema.json",
  "title": "Editorials & Opinion Extraction",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "schema_version",
    "metadata",
    "article_type",
    "stance_overall",
    "arguments"
  ],
  "properties": {
    "schema_version": {
      "type": "string",
      "pattern": "^v\\d+\\.\\d+(\\.\\d+)?$",
      "description": "Semantic-like version tag, e.g. v1.0 or v1.2.3"
    },
    "document": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "filename",
        "page_count"
      ],
      "properties": {
        "filename": {
          "type": "string"
        },
        "content_type": {
          "type": "string",
          "enum": [
            "application/pdf"
          ],
          "default": "application/pdf"
        },
        "size_bytes": {
          "type": "integer",
          "minimum": 0
        },
        "page_count": {
          "type": "integer",
          "minimum": 1
        }
      }
    },
    "study_id": {
      "type": "string",
      "pattern": "^[A-Za-z0-9._-]+$",
      "description": "Internal opaque ID for this article"
    },
    "generator": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "name",
        "model",
        "timestamp"
      ],
      "properties": {
        "name": {
          "type": "string"
        },
        "model": {
          "type": "string"
        },
        "temperature": {
          "type": "number"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "language": {
      "$ref": "#/$defs/LanguageCode"
    },
    "metadata": {
      "$ref": "#/$defs/Metadata"
    },
    "article_type": {
      "type": "string",
      "enum": [
        "Editorial",
        "Commentary",
        "Perspective",
        "Viewpoint",
        "Opinion",
        "Letter",
        "Reply",
        "News & Views",
        "Invited Commentary",
        "Other"
      ]
    },
    "peer_review_status": {
      "type": "string",
      "enum": [
        "peer_reviewed",
        "not_peer_reviewed",
        "unknown"
      ],
      "default": "unknown"
    },
    "invited": {
      "type": "boolean",
      "default": false
    },
    "editorial_context": {
      "$ref": "#/$defs/EditorialContext"
    },
    "target_article": {
      "$ref": "#/$defs/TargetArticle"
    },
    "topic_keywords": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "default": []
    },
    "stance_overall": {
      "type": "string",
      "enum": [
        "supportive",
        "critical",
        "mixed",
        "neutral",
        "unclear"
      ]
    },
    "thesis_statement": {
      "type": "string",
      "description": "One-sentence summary of the main thesis/position"
    },
    "key_points": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "default": []
    },
    "arguments": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Argument"
      },
      "minItems": 1
    },
    "recommendations": {
      "type": "array",
      "description": "Practice/policy/research recommendations, if any.",
      "items": {
        "$ref": "#/$defs/Recommendation"
      },
      "default": []
    },
    "notable_quotes": {
      "type": "array",
      "description": "Salient quotes from the piece.",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": [
          "text"
        ],
        "properties": {
          "text": {
            "type": "string"
          },
          "context": {
            "type": "string"
          },
          "source": {
            "$ref": "#/$defs/SourceRef"
          }
        }
      },
      "default": []
    },
    "limitations_or_bias": {
      "type": "string",
      "description": "Any stated limitations or potential biases acknowledged by the authors"
    },
    "conflict_of_interest": {
      "$ref": "#/$defs/ConflictOfInterest"
    },
    "response_chain": {
      "$ref": "#/$defs/ResponseChain"
    },
    "impact_metrics": {
      "$ref": "#/$defs/ImpactMetrics"
    },
    "quality_assessment": {
      "$ref": "#/$defs/QualityAssessment"
    },
    "digital_features": {
      "$ref": "#/$defs/DigitalFeatures"
    },
    "tables_parsed": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/ParsedTable"
      },
      "default": []
    },
    "figures_summary": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/FigureSummary"
      },
      "default": []
    },
    "extraction_warnings": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/ExtractionWarning"
      },
      "default": []
    },
    "truncated": {
      "$ref": "#/$defs/TruncationInfo"
    }
  },
  "$defs": {
    "EditorialContext": {
      "type": "object",
      "additionalProperties": false,
      "description": "Editorial context and board information",
      "properties": {
        "editorial_board_member": {
          "type": "boolean",
          "description": "Whether author is a member of the journal's editorial board"
        },
        "guest_editor": {
          "type": "boolean",
          "description": "Whether author served as guest editor for this issue"
        },
        "solicited": {
          "type": "boolean",
          "description": "Whether the editorial was specifically solicited by the journal"
        },
        "editorial_type": {
          "type": "string",
          "enum": [
            "accompanying",
            "standalone",
            "response",
            "invited",
            "unsolicited"
          ],
          "description": "Type of editorial in relation to other content"
        },
        "publication_timeline": {
          "type": "object",
          "properties": {
            "submitted": {
              "type": "string",
              "format": "date"
            },
            "accepted": {
              "type": "string",
              "format": "date"
            },
            "published_online": {
              "type": "string",
              "format": "date"
            },
            "published_print": {
              "type": "string",
              "format": "date"
            }
          },
          "additionalProperties": false
        },
        "editorial_process": {
          "type": "object",
          "properties": {
            "peer_reviewed": {
              "type": "boolean"
            },
            "editor_reviewed": {
              "type": "boolean"
            },
            "fast_tracked": {
              "type": "boolean"
            },
            "revision_count": {
              "type": "integer",
              "minimum": 0
            }
          },
          "additionalProperties": false
        }
      }
    },
    "ConflictOfInterest": {
      "type": "object",
      "additionalProperties": false,
      "description": "Comprehensive conflict of interest declaration for editorial content",
      "properties": {
        "declared": {
          "type": "boolean",
          "description": "Whether conflicts of interest were formally declared"
        },
        "statement": {
          "type": "string",
          "description": "Full conflict of interest statement as published"
        },
        "financial_interests": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "consultant",
                  "speaker",
                  "advisory_board",
                  "stock_ownership",
                  "employment",
                  "grants",
                  "patents",
                  "royalties",
                  "other"
                ]
              },
              "entity": {
                "type": "string",
                "description": "Company or organization name"
              },
              "amount_range": {
                "type": "string",
                "enum": [
                  "<$1000",
                  "$1000-$5000",
                  "$5000-$10000",
                  "$10000-$50000",
                  ">$50000",
                  "undisclosed"
                ]
              },
              "timeframe": {
                "type": "string",
                "description": "Time period of the relationship"
              },
              "relevance": {
                "type": "string",
                "enum": [
                  "directly_relevant",
                  "potentially_relevant",
                  "not_relevant"
                ],
                "description": "Relevance to the editorial topic"
              }
            },
            "additionalProperties": false
          }
        },
        "institutional_affiliations": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "institution": {
                "type": "string"
              },
              "role": {
                "type": "string"
              },
              "potential_bias": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "personal_relationships": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "relationship_type": {
                "type": "string",
                "enum": [
                  "family",
                  "close_friend",
                  "collaborator",
                  "mentor",
                  "former_colleague"
                ]
              },
              "person_role": {
                "type": "string",
                "description": "Role of the person in relation to editorial topic"
              },
              "impact_assessment": {
                "type": "string",
                "enum": [
                  "high",
                  "moderate",
                  "low",
                  "none"
                ]
              }
            },
            "additionalProperties": false
          }
        },
        "intellectual_interests": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "theory_or_position": {
                "type": "string"
              },
              "publications": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "strength_of_position": {
                "type": "string",
                "enum": [
                  "strong_advocate",
                  "moderate_support",
                  "neutral",
                  "skeptical"
                ]
              }
            },
            "additionalProperties": false
          }
        }
      }
    },
    "ResponseChain": {
      "type": "object",
      "additionalProperties": false,
      "description": "Editorial response and counter-response tracking",
      "properties": {
        "is_response": {
          "type": "boolean",
          "description": "Whether this editorial is a response to another piece"
        },
        "responds_to": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string"
              },
              "authors": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "doi": {
                "type": "string"
              },
              "pmid": {
                "type": "string"
              },
              "publication_date": {
                "type": "string",
                "format": "date"
              },
              "response_type": {
                "type": "string",
                "enum": [
                  "direct_response",
                  "counter_argument",
                  "clarification",
                  "extension",
                  "rebuttal"
                ]
              }
            },
            "additionalProperties": false
          }
        },
        "has_responses": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string"
              },
              "authors": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "doi": {
                "type": "string"
              },
              "pmid": {
                "type": "string"
              },
              "publication_date": {
                "type": "string",
                "format": "date"
              },
              "response_type": {
                "type": "string",
                "enum": [
                  "support",
                  "criticism",
                  "clarification",
                  "extension",
                  "rebuttal"
                ]
              },
              "tone": {
                "type": "string",
                "enum": [
                  "supportive",
                  "critical",
                  "neutral",
                  "hostile",
                  "constructive"
                ]
              }
            },
            "additionalProperties": false
          }
        },
        "thread_position": {
          "type": "integer",
          "minimum": 1,
          "description": "Position in the response thread (1=original, 2=first response, etc.)"
        },
        "thread_id": {
          "type": "string",
          "description": "Identifier linking all pieces in the same discussion thread"
        }
      }
    },
    "DigitalFeatures": {
      "type": "object",
      "additionalProperties": false,
      "description": "Modern digital publishing features and interactive elements",
      "properties": {
        "multimedia_content": {
          "type": "object",
          "properties": {
            "embedded_videos": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "format": "uri"
                  },
                  "title": {
                    "type": "string"
                  },
                  "duration": {
                    "type": "string",
                    "pattern": "^PT\\d+M\\d+S$"
                  },
                  "description": {
                    "type": "string"
                  },
                  "transcript_available": {
                    "type": "boolean"
                  }
                },
                "additionalProperties": false
              }
            },
            "interactive_graphics": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "interactive_chart",
                      "data_visualization",
                      "simulation",
                      "calculator",
                      "quiz"
                    ]
                  },
                  "url": {
                    "type": "string",
                    "format": "uri"
                  },
                  "description": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            },
            "audio_content": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "podcast_episode",
                      "audio_summary",
                      "interview",
                      "commentary"
                    ]
                  },
                  "url": {
                    "type": "string",
                    "format": "uri"
                  },
                  "duration": {
                    "type": "string"
                  },
                  "transcript_url": {
                    "type": "string",
                    "format": "uri"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "social_media_integration": {
          "type": "object",
          "properties": {
            "thread_summaries": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "platform": {
                    "type": "string",
                    "enum": [
                      "twitter",
                      "linkedin",
                      "mastodon",
                      "bluesky"
                    ]
                  },
                  "thread_url": {
                    "type": "string",
                    "format": "uri"
                  },
                  "author_handle": {
                    "type": "string"
                  },
                  "engagement_metrics": {
                    "type": "object",
                    "properties": {
                      "likes": {
                        "type": "integer",
                        "minimum": 0
                      },
                      "shares": {
                        "type": "integer",
                        "minimum": 0
                      },
                      "comments": {
                        "type": "integer",
                        "minimum": 0
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            },
            "hashtags": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Relevant hashtags for social media promotion"
            }
          },
          "additionalProperties": false
        },
        "version_control": {
          "type": "object",
          "properties": {
            "is_living_document": {
              "type": "boolean"
            },
            "version_history": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "version": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "changes": {
                    "type": "string"
                  },
                  "change_type": {
                    "type": "string",
                    "enum": [
                      "minor_edit",
                      "content_update",
                      "correction",
                      "major_revision"
                    ]
                  }
                },
                "additionalProperties": false
              }
            },
            "preprint_versions": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "platform": {
                    "type": "string",
                    "enum": [
                      "medRxiv",
                      "bioRxiv",
                      "arXiv",
                      "SSRN",
                      "other"
                    ]
                  },
                  "preprint_doi": {
                    "type": "string"
                  },
                  "posted_date": {
                    "type": "string",
                    "format": "date"
                  },
                  "version": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "peer_commentary": {
          "type": "object",
          "properties": {
            "open_peer_review": {
              "type": "boolean"
            },
            "public_comments": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "commenter_name": {
                    "type": "string"
                  },
                  "commenter_credentials": {
                    "type": "string"
                  },
                  "comment_text": {
                    "type": "string"
                  },
                  "comment_date": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "moderation_status": {
                    "type": "string",
                    "enum": [
                      "approved",
                      "pending",
                      "rejected",
                      "flagged"
                    ]
                  }
                },
                "additionalProperties": false
              }
            },
            "expert_annotations": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "annotator": {
                    "type": "string"
                  },
                  "section": {
                    "type": "string"
                  },
                  "annotation_type": {
                    "type": "string",
                    "enum": [
                      "clarification",
                      "disagreement",
                      "supporting_evidence",
                      "methodological_note"
                    ]
                  },
                  "annotation_text": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "accessibility": {
          "type": "object",
          "properties": {
            "screen_reader_compatible": {
              "type": "boolean"
            },
            "alt_text_provided": {
              "type": "boolean"
            },
            "high_contrast_available": {
              "type": "boolean"
            },
            "font_size_adjustable": {
              "type": "boolean"
            },
            "translations": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "language": {
                    "$ref": "#/$defs/LanguageCode"
                  },
                  "translation_type": {
                    "type": "string",
                    "enum": [
                      "human",
                      "machine",
                      "hybrid"
                    ]
                  },
                  "quality_score": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "url": {
                    "type": "string",
                    "format": "uri"
                  }
                },
                "additionalProperties": false
              }
            },
            "plain_language_version": {
              "type": "object",
              "properties": {
                "available": {
                  "type": "boolean"
                },
                "url": {
                  "type": "string",
                  "format": "uri"
                },
                "reading_level": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "real_time_updates": {
          "type": "object",
          "properties": {
            "update_notifications": {
              "type": "boolean"
            },
            "rss_feed": {
              "type": "string",
              "format": "uri"
            },
            "webhook_endpoints": {
              "type": "array",
              "items": {
                "type": "string",
                "format": "uri"
              }
            },
            "last_updated": {
              "type": "string",
              "format": "date-time"
            }
          },
          "additionalProperties": false
        }
      }
    },
    "QualityAssessment": {
      "type": "object",
      "additionalProperties": false,
      "description": "Comprehensive quality and credibility assessment for editorial content",
      "properties": {
        "author_expertise": {
          "type": "object",
          "properties": {
            "domain_expertise": {
              "type": "string",
              "enum": [
                "recognized_expert",
                "established_researcher",
                "emerging_expert",
                "limited_expertise",
                "outside_domain"
              ],
              "description": "Assessment of author expertise in the editorial topic area"
            },
            "h_index": {
              "type": "integer",
              "minimum": 0
            },
            "years_experience": {
              "type": "integer",
              "minimum": 0
            },
            "relevant_publications": {
              "type": "integer",
              "minimum": 0
            },
            "institutional_affiliation_quality": {
              "type": "string",
              "enum": [
                "tier_1",
                "tier_2",
                "tier_3",
                "unranked",
                "non_academic"
              ],
              "description": "Quality tier of author's institutional affiliation"
            },
            "previous_editorial_experience": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        },
        "source_credibility": {
          "type": "object",
          "properties": {
            "source_types": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "peer_reviewed_journal",
                  "systematic_review",
                  "meta_analysis",
                  "clinical_guideline",
                  "government_report",
                  "white_paper",
                  "news_article",
                  "blog_post",
                  "personal_communication",
                  "other"
                ]
              }
            },
            "citation_quality_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 10,
              "description": "Overall quality assessment of cited sources"
            },
            "primary_source_ratio": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Proportion of citations that are primary sources"
            },
            "recent_source_ratio": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Proportion of citations from last 5 years"
            },
            "source_independence": {
              "type": "string",
              "enum": [
                "independent",
                "some_conflicts",
                "significant_conflicts",
                "undisclosed"
              ],
              "description": "Independence of cited sources from potential conflicts"
            }
          },
          "additionalProperties": false
        },
        "fact_checking": {
          "type": "object",
          "properties": {
            "factual_claims_verified": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Proportion of factual claims that have been verified"
            },
            "verification_method": {
              "type": "string",
              "enum": [
                "automated",
                "manual",
                "crowd_sourced",
                "expert_review",
                "not_verified"
              ]
            },
            "disputed_claims": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "claim": {
                    "type": "string"
                  },
                  "dispute_source": {
                    "type": "string"
                  },
                  "dispute_reasoning": {
                    "type": "string"
                  },
                  "resolution_status": {
                    "type": "string",
                    "enum": [
                      "resolved",
                      "ongoing",
                      "unresolved"
                    ]
                  }
                },
                "additionalProperties": false
              }
            },
            "corrections_issued": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "correction_type": {
                    "type": "string",
                    "enum": [
                      "factual_error",
                      "interpretation_error",
                      "citation_error",
                      "methodological_error"
                    ]
                  },
                  "correction_date": {
                    "type": "string",
                    "format": "date"
                  },
                  "correction_text": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "transparency": {
          "type": "object",
          "properties": {
            "methodology_disclosed": {
              "type": "boolean"
            },
            "data_availability": {
              "type": "string",
              "enum": [
                "fully_available",
                "partially_available",
                "available_on_request",
                "not_available"
              ],
              "description": "Availability of underlying data"
            },
            "funding_disclosed": {
              "type": "boolean"
            },
            "conflicts_disclosed": {
              "type": "boolean"
            },
            "peer_review_process": {
              "type": "string",
              "enum": [
                "open_peer_review",
                "single_blind",
                "double_blind",
                "editorial_review",
                "not_peer_reviewed"
              ]
            },
            "editorial_independence": {
              "type": "string",
              "enum": [
                "fully_independent",
                "mostly_independent",
                "some_influence",
                "significant_influence",
                "unclear"
              ]
            }
          },
          "additionalProperties": false
        },
        "readability": {
          "type": "object",
          "properties": {
            "flesch_reading_ease": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "flesch_kincaid_grade": {
              "type": "number",
              "minimum": 0
            },
            "target_audience_appropriateness": {
              "type": "string",
              "enum": [
                "general_public",
                "healthcare_professionals",
                "researchers",
                "specialists",
                "mixed"
              ]
            },
            "technical_jargon_level": {
              "type": "string",
              "enum": [
                "minimal",
                "moderate",
                "high",
                "excessive"
              ]
            },
            "accessibility_features": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "plain_language_summary",
                  "visual_aids",
                  "glossary",
                  "translation_available"
                ]
              }
            }
          },
          "additionalProperties": false
        },
        "overall_quality_score": {
          "type": "object",
          "properties": {
            "composite_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Overall quality score (0-100)"
            },
            "scoring_methodology": {
              "type": "string",
              "description": "Method used to calculate composite score"
            },
            "quality_tier": {
              "type": "string",
              "enum": [
                "exceptional",
                "high",
                "moderate",
                "low",
                "poor"
              ],
              "description": "Categorical quality assessment"
            },
            "reliability_confidence": {
              "type": "string",
              "enum": [
                "very_high",
                "high",
                "moderate",
                "low",
                "very_low"
              ],
              "description": "Confidence in the reliability of this assessment"
            }
          },
          "additionalProperties": false
        }
      }
    },
    "ImpactMetrics": {
      "type": "object",
      "additionalProperties": false,
      "description": "Editorial impact and influence tracking across multiple dimensions",
      "properties": {
        "citation_metrics": {
          "type": "object",
          "properties": {
            "citation_count": {
              "type": "integer",
              "minimum": 0
            },
            "h_index_contribution": {
              "type": "number",
              "minimum": 0
            },
            "field_weighted_citation_impact": {
              "type": "number",
              "minimum": 0
            },
            "relative_citation_ratio": {
              "type": "number",
              "minimum": 0
            },
            "citing_papers": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "doi": {
                    "type": "string"
                  },
                  "title": {
                    "type": "string"
                  },
                  "publication_date": {
                    "type": "string",
                    "format": "date"
                  },
                  "citation_context": {
                    "type": "string",
                    "enum": [
                      "supportive",
                      "critical",
                      "neutral",
                      "methodological"
                    ]
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "altmetrics": {
          "type": "object",
          "properties": {
            "altmetric_score": {
              "type": "number",
              "minimum": 0
            },
            "social_media": {
              "type": "object",
              "properties": {
                "twitter_mentions": {
                  "type": "integer",
                  "minimum": 0
                },
                "facebook_shares": {
                  "type": "integer",
                  "minimum": 0
                },
                "linkedin_shares": {
                  "type": "integer",
                  "minimum": 0
                },
                "reddit_mentions": {
                  "type": "integer",
                  "minimum": 0
                },
                "sentiment_analysis": {
                  "type": "object",
                  "properties": {
                    "positive": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1
                    },
                    "negative": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1
                    },
                    "neutral": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false
            },
            "news_mentions": {
              "type": "object",
              "properties": {
                "mainstream_media": {
                  "type": "integer",
                  "minimum": 0
                },
                "science_blogs": {
                  "type": "integer",
                  "minimum": 0
                },
                "policy_documents": {
                  "type": "integer",
                  "minimum": 0
                }
              },
              "additionalProperties": false
            },
            "downloads": {
              "type": "object",
              "properties": {
                "total_downloads": {
                  "type": "integer",
                  "minimum": 0
                },
                "unique_users": {
                  "type": "integer",
                  "minimum": 0
                },
                "geographic_distribution": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "country": {
                        "type": "string"
                      },
                      "download_count": {
                        "type": "integer",
                        "minimum": 0
                      }
                    },
                    "additionalProperties": false
                  }
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "policy_impact": {
          "type": "object",
          "properties": {
            "policy_citations": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "policy_document": {
                    "type": "string"
                  },
                  "issuing_organization": {
                    "type": "string"
                  },
                  "policy_type": {
                    "type": "string",
                    "enum": [
                      "guideline",
                      "regulation",
                      "position_statement",
                      "recommendation",
                      "legislation"
                    ]
                  },
                  "citation_date": {
                    "type": "string",
                    "format": "date"
                  },
                  "influence_level": {
                    "type": "string",
                    "enum": [
                      "major_influence",
                      "moderate_influence",
                      "minor_mention",
                      "background_citation"
                    ]
                  }
                },
                "additionalProperties": false
              }
            },
            "healthcare_practice_changes": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "practice_area": {
                    "type": "string"
                  },
                  "change_description": {
                    "type": "string"
                  },
                  "evidence_of_change": {
                    "type": "string"
                  },
                  "scale_of_impact": {
                    "type": "string",
                    "enum": [
                      "international",
                      "national",
                      "regional",
                      "institutional"
                    ]
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "expert_reception": {
          "type": "object",
          "properties": {
            "expert_responses": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "expert_name": {
                    "type": "string"
                  },
                  "expertise_area": {
                    "type": "string"
                  },
                  "response_type": {
                    "type": "string",
                    "enum": [
                      "endorsement",
                      "criticism",
                      "clarification",
                      "extension",
                      "rebuttal"
                    ]
                  },
                  "response_venue": {
                    "type": "string",
                    "enum": [
                      "peer_reviewed_response",
                      "blog_post",
                      "social_media",
                      "conference",
                      "interview"
                    ]
                  },
                  "influence_score": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 10
                  }
                },
                "additionalProperties": false
              }
            },
            "professional_society_reactions": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "society_name": {
                    "type": "string"
                  },
                  "reaction_type": {
                    "type": "string",
                    "enum": [
                      "formal_endorsement",
                      "position_statement",
                      "public_disagreement",
                      "neutral_acknowledgment"
                    ]
                  },
                  "statement_text": {
                    "type": "string"
                  },
                  "statement_date": {
                    "type": "string",
                    "format": "date"
                  }
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        },
        "longitudinal_impact": {
          "type": "object",
          "properties": {
            "impact_timeline": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "time_period": {
                    "type": "string",
                    "enum": [
                      "1_month",
                      "3_months",
                      "6_months",
                      "1_year",
                      "2_years",
                      "5_years"
                    ]
                  },
                  "citation_count": {
                    "type": "integer",
                    "minimum": 0
                  },
                  "altmetric_score": {
                    "type": "number",
                    "minimum": 0
                  },
                  "policy_mentions": {
                    "type": "integer",
                    "minimum": 0
                  }
                },
                "additionalProperties": false
              }
            },
            "sustained_influence": {
              "type": "string",
              "enum": [
                "lasting_impact",
                "moderate_longevity",
                "short_term_interest",
                "minimal_impact"
              ],
              "description": "Assessment of long-term influence sustainability"
            }
          },
          "additionalProperties": false
        }
      }
    },
    "CitedRef": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "citation_text": {
          "type": "string"
        },
        "pmid": {
          "type": "string",
          "pattern": "^\\d{1,8}$"
        },
        "doi": {
          "type": "string",
          "pattern": "^10\\.\\d{4,9}/[-._;()/:A-Za-z0-9]+$",
          "description": "DOI; pattern accepts upper- and lowercase letters"
        },
        "url": {
          "type": "string",
          "format": "uri"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "TargetArticle": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "title": {
          "type": "string"
        },
        "pmid": {
          "type": "string",
          "pattern": "^\\d{1,8}$"
        },
        "doi": {
          "type": "string",
          "pattern": "^10\\.\\d{4,9}/[-._;()/:A-Za-z0-9]+$",
          "description": "DOI; pattern accepts upper- and lowercase letters"
        },
        "citation_text": {
          "type": "string"
        },
        "url": {
          "type": "string",
          "format": "uri"
        },
        "type": {
          "type": "string",
          "enum": [
            "primary_study",
            "review",
            "guideline",
            "policy",
            "other"
          ]
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "LinkedEvidence": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "external_id": {
          "$ref": "#/$defs/ExternalId"
        },
        "passage": {
          "$ref": "#/$defs/Passage"
        },
        "notes": {
          "type": "string"
        }
      }
    },
    "Argument": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "claim_id",
        "text"
      ],
      "properties": {
        "claim_id": {
          "type": "string"
        },
        "text": {
          "type": "string"
        },
        "stance": {
          "type": "string",
          "enum": [
            "pro",
            "con",
            "neutral",
            "unclear"
          ],
          "default": "neutral"
        },
        "evidence_type": {
          "type": "string",
          "enum": [
            "primary_study",
            "systematic_review",
            "guideline",
            "expert_opinion",
            "anecdote",
            "data_analysis",
            "none",
            "other"
          ],
          "default": "other"
        },
        "cited_refs": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/CitedRef"
          },
          "default": []
        },
        "evidence_links": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/LinkedEvidence"
          },
          "default": []
        },
        "support_strength": {
          "type": "string",
          "description": "Free-text assessment as stated by authors (e.g., strong, limited, speculative)"
        },
        "counterarguments": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        },
        "rhetorical_analysis": {
          "$ref": "#/$defs/RhetoricalAnalysis"
        },
        "bias_indicators": {
          "$ref": "#/$defs/BiasIndicators"
        },
        "logical_structure": {
          "$ref": "#/$defs/LogicalStructure"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "RhetoricalAnalysis": {
      "type": "object",
      "additionalProperties": false,
      "description": "Analysis of rhetorical devices and persuasive techniques",
      "properties": {
        "rhetorical_devices": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "ethos",
              "pathos",
              "logos",
              "metaphor",
              "analogy",
              "repetition",
              "rhetorical_question",
              "appeal_to_authority",
              "appeal_to_emotion",
              "appeal_to_fear",
              "bandwagon",
              "strawman",
              "false_dilemma",
              "slippery_slope"
            ]
          }
        },
        "persuasive_techniques": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "technique": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "effectiveness_assessment": {
                "type": "string",
                "enum": [
                  "highly_effective",
                  "moderately_effective",
                  "less_effective",
                  "ineffective"
                ]
              },
              "target_audience": {
                "type": "string"
              }
            },
            "additionalProperties": false
          }
        },
        "tone_analysis": {
          "type": "object",
          "properties": {
            "overall_tone": {
              "type": "string",
              "enum": [
                "authoritative",
                "persuasive",
                "neutral",
                "critical",
                "supportive",
                "emotional",
                "analytical"
              ]
            },
            "emotional_appeal": {
              "type": "string",
              "enum": [
                "high",
                "moderate",
                "low",
                "none"
              ]
            },
            "formality_level": {
              "type": "string",
              "enum": [
                "very_formal",
                "formal",
                "semi_formal",
                "informal",
                "conversational"
              ]
            }
          },
          "additionalProperties": false
        }
      }
    },
    "BiasIndicators": {
      "type": "object",
      "additionalProperties": false,
      "description": "Systematic analysis of potential biases in editorial content",
      "properties": {
        "selection_bias": {
          "type": "object",
          "properties": {
            "cherry_picking": {
              "type": "boolean",
              "description": "Evidence of selective citation or data presentation"
            },
            "omitted_evidence": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Key evidence or perspectives that are notably absent"
            },
            "source_diversity": {
              "type": "string",
              "enum": [
                "diverse",
                "limited",
                "narrow",
                "single_perspective"
              ],
              "description": "Diversity of sources and viewpoints presented"
            }
          },
          "additionalProperties": false
        },
        "confirmation_bias": {
          "type": "object",
          "properties": {
            "predetermined_conclusion": {
              "type": "boolean",
              "description": "Evidence that conclusion was predetermined"
            },
            "selective_interpretation": {
              "type": "boolean",
              "description": "Evidence of interpreting ambiguous data to support position"
            },
            "dismissal_of_contradictory_evidence": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Contradictory evidence that is dismissed without adequate justification"
            }
          },
          "additionalProperties": false
        },
        "framing_bias": {
          "type": "object",
          "properties": {
            "loaded_language": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Emotionally charged or biased language used"
            },
            "false_dichotomy": {
              "type": "boolean",
              "description": "Presentation of complex issues as binary choices"
            },
            "contextualization": {
              "type": "string",
              "enum": [
                "balanced",
                "one_sided",
                "misleading",
                "incomplete"
              ],
              "description": "How information is contextualized"
            }
          },
          "additionalProperties": false
        },
        "authority_bias": {
          "type": "object",
          "properties": {
            "inappropriate_appeals_to_authority": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Appeals to authority outside their expertise"
            },
            "argument_from_position": {
              "type": "boolean",
              "description": "Arguments based on author's position rather than evidence"
            }
          },
          "additionalProperties": false
        },
        "statistical_bias": {
          "type": "object",
          "properties": {
            "misrepresentation_of_data": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Ways in which data is misrepresented"
            },
            "correlation_causation_confusion": {
              "type": "boolean",
              "description": "Inappropriate inference of causation from correlation"
            },
            "sample_size_issues": {
              "type": "boolean",
              "description": "Inappropriate generalizations from small samples"
            }
          },
          "additionalProperties": false
        }
      }
    },
    "LogicalStructure": {
      "type": "object",
      "additionalProperties": false,
      "description": "Analysis of logical reasoning and argument structure",
      "properties": {
        "argument_type": {
          "type": "string",
          "enum": [
            "deductive",
            "inductive",
            "abductive",
            "analogical",
            "causal",
            "mixed"
          ],
          "description": "Primary type of logical reasoning used"
        },
        "logical_fallacies": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "fallacy_type": {
                "type": "string",
                "enum": [
                  "ad_hominem",
                  "straw_man",
                  "false_dilemma",
                  "slippery_slope",
                  "appeal_to_ignorance",
                  "bandwagon",
                  "hasty_generalization",
                  "circular_reasoning",
                  "false_cause",
                  "appeal_to_emotion",
                  "appeal_to_authority",
                  "red_herring",
                  "tu_quoque"
                ]
              },
              "description": {
                "type": "string"
              },
              "severity": {
                "type": "string",
                "enum": [
                  "critical",
                  "major",
                  "minor",
                  "negligible"
                ]
              },
              "location": {
                "$ref": "#/$defs/SourceRef"
              }
            },
            "additionalProperties": false
          }
        },
        "argument_strength": {
          "type": "object",
          "properties": {
            "premise_validity": {
              "type": "string",
              "enum": [
                "strong",
                "moderate",
                "weak",
                "invalid"
              ]
            },
            "logical_coherence": {
              "type": "string",
              "enum": [
                "coherent",
                "mostly_coherent",
                "some_gaps",
                "incoherent"
              ]
            },
            "evidence_quality": {
              "type": "string",
              "enum": [
                "high_quality",
                "moderate_quality",
                "low_quality",
                "insufficient"
              ]
            },
            "conclusion_support": {
              "type": "string",
              "enum": [
                "strongly_supported",
                "moderately_supported",
                "weakly_supported",
                "unsupported"
              ]
            }
          },
          "additionalProperties": false
        },
        "counterargument_consideration": {
          "type": "object",
          "properties": {
            "acknowledges_counterarguments": {
              "type": "boolean"
            },
            "addresses_counterarguments": {
              "type": "boolean"
            },
            "strength_of_rebuttal": {
              "type": "string",
              "enum": [
                "convincing",
                "partial",
                "weak",
                "none"
              ]
            }
          },
          "additionalProperties": false
        }
      }
    },
    "Recommendation": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "area",
        "statement"
      ],
      "properties": {
        "area": {
          "type": "string",
          "enum": [
            "clinical_practice",
            "policy",
            "research",
            "education",
            "other"
          ]
        },
        "statement": {
          "type": "string"
        },
        "urgency": {
          "type": "string",
          "enum": [
            "low",
            "moderate",
            "high"
          ],
          "default": "moderate"
        },
        "target_audience": {
          "type": "string"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "Passage": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "text"
      ],
      "properties": {
        "text": {
          "type": "string",
          "description": "Extracted text content"
        },
        "page": {
          "type": "integer",
          "minimum": 1,
          "description": "Page number where text was found"
        },
        "bbox": {
          "$ref": "#/$defs/BoundingBox"
        },
        "anchor": {
          "type": "string",
          "description": "Human-readable location reference"
        },
        "ocr_confidence": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "OCR confidence score for this text passage"
        },
        "extraction_method": {
          "type": "string",
          "enum": [
            "ocr",
            "text_layer",
            "manual"
          ],
          "description": "Method used to extract this text"
        }
      }
    },
    "ParsedTable": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "table_id",
        "title"
      ],
      "properties": {
        "table_id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "page": {
          "type": "integer",
          "minimum": 1
        },
        "type": {
          "type": "string",
          "enum": [
            "baseline",
            "outcomes",
            "harms",
            "methods",
            "other"
          ]
        },
        "rows": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "cells"
            ],
            "properties": {
              "cells": {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "default": []
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "ExternalId": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "source",
        "id"
      ],
      "properties": {
        "source": {
          "type": "string",
          "enum": [
            "PMID",
            "PMCID",
            "DOI",
            "NCT",
            "ISRCTN",
            "EudraCT",
            "EU-CTR",
            "CTIS",
            "UMIN",
            "JPRN",
            "DRKS",
            "ChiCTR",
            "ANZCTR",
            "arXiv",
            "bioRxiv",
            "medRxiv",
            "PubPeer",
            "ISBN",
            "ISSN",
            "Handle",
            "URN",
            "Other"
          ],
          "description": "External identifier source system including preprint servers and academic publishers"
        },
        "id": {
          "type": "string",
          "description": "Identifier value within the source system",
          "examples": [
            "1234.5678",
            "2023.01.001",
            "10.1101/2023.01.01.123456",
            "978-0-123456-78-9"
          ]
        },
        "url": {
          "type": "string",
          "format": "uri",
          "description": "Optional direct URL to the external resource"
        },
        "version": {
          "type": "string",
          "description": "Version number for preprints or versioned documents"
        }
      },
      "allOf": [
        {
          "if": {
            "properties": {
              "source": {
                "const": "arXiv"
              }
            }
          },
          "then": {
            "properties": {
              "id": {
                "pattern": "^(\\d{4}\\.\\d{4,5}|[a-z-]+/\\d{7})$",
                "description": "arXiv identifier (new: YYMM.NNNN or old: subject-class/YYMMnnn)"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "source": {
                "const": "ISBN"
              }
            }
          },
          "then": {
            "properties": {
              "id": {
                "pattern": "^(?:978|979)[0-9]{10}$|^[0-9]{9}[0-9X]$",
                "description": "ISBN-10 or ISBN-13 format"
              }
            }
          }
        }
      ]
    },
    "Metadata": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "title",
        "journal"
      ],
      "properties": {
        "title": {
          "type": "string"
        },
        "journal": {
          "type": "string"
        },
        "journal_abbrev": {
          "type": "string"
        },
        "published_date": {
          "type": "string",
          "format": "date"
        },
        "published_date_precision": {
          "type": "string",
          "enum": [
            "year",
            "month",
            "day"
          ]
        },
        "volume": {
          "type": "string"
        },
        "issue": {
          "type": "string"
        },
        "pages": {
          "type": "string"
        },
        "page_start": {
          "type": "string"
        },
        "page_end": {
          "type": "string"
        },
        "article_number": {
          "type": "string"
        },
        "elocation_id": {
          "type": "string"
        },
        "issn": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{3}[\\dxX]$",
          "description": "International Standard Serial Number (print version)"
        },
        "eissn": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{3}[\\dxX]$",
          "description": "Electronic International Standard Serial Number"
        },
        "authors": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Author"
          },
          "default": []
        },
        "pmid": {
          "type": "string",
          "pattern": "^\\d{1,8}$"
        },
        "pmcid": {
          "type": "string",
          "pattern": "^PMC\\d+$"
        },
        "doi": {
          "type": "string",
          "pattern": "^10\\.\\d{4,}(\\.\\d+)?/[-._;()/:A-Za-z0-9\\[\\]]+$",
          "description": "DOI with comprehensive character support including brackets and extended punctuation",
          "examples": [
            "10.1056/NEJMoa2001017",
            "10.1002/(SICI)1097-0142(19960101)77:1<1::AID-CNCR1>3.0.CO;2-Z"
          ]
        },
        "registration": {
          "$ref": "#/$defs/Registration"
        },
        "protocol_ref": {
          "type": "string"
        },
        "funding": {
          "type": "string"
        },
        "conflict_of_interest": {
          "type": "string"
        },
        "epub_ahead_of_print_date": {
          "type": "string"
        },
        "vancouver_citation": {
          "type": "string"
        },
        "vancouver_source": {
          "$ref": "#/$defs/SourceRef"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        },
        "external_ids": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/ExternalId"
          },
          "default": []
        },
        "supplements": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/SupplementFile"
          },
          "default": []
        },
        "parsing_context": {
          "$ref": "#/$defs/ParsingContext"
        },
        "content_hash_sha256": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{64}$",
          "description": "SHA-256 hash van bronbestand of platte tekst (64-char hex)"
        }
      },
      "dependentSchemas": {
        "published_date_precision": {
          "required": [
            "published_date"
          ],
          "properties": {
            "published_date_precision": {
              "description": "Precision can only be specified if published_date is present"
            }
          }
        },
        "page_end": {
          "required": [
            "page_start"
          ],
          "properties": {
            "page_end": {
              "description": "End page requires start page to be specified"
            }
          }
        },
        "vancouver_source": {
          "required": [
            "vancouver_citation"
          ],
          "properties": {
            "vancouver_source": {
              "description": "Vancouver source reference requires vancouver_citation to be present"
            }
          }
        }
      },
      "allOf": [
        {
          "if": {
            "properties": {
              "published_date_precision": {
                "const": "day"
              }
            }
          },
          "then": {
            "properties": {
              "published_date": {
                "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
                "description": "Day precision requires full date format YYYY-MM-DD"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "published_date_precision": {
                "const": "month"
              }
            }
          },
          "then": {
            "properties": {
              "published_date": {
                "pattern": "^\\d{4}-\\d{2}(-\\d{2})?$",
                "description": "Month precision allows YYYY-MM or YYYY-MM-DD format"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "published_date_precision": {
                "const": "year"
              }
            }
          },
          "then": {
            "properties": {
              "published_date": {
                "pattern": "^\\d{4}(-\\d{2}(-\\d{2})?)?$",
                "description": "Year precision allows YYYY, YYYY-MM, or YYYY-MM-DD format"
              }
            }
          }
        }
      ]
    },
    "BoundingBox": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "x",
        "y",
        "width",
        "height"
      ],
      "properties": {
        "x": {
          "type": "number",
          "minimum": 0,
          "description": "Left coordinate (points from PDF origin)"
        },
        "y": {
          "type": "number",
          "minimum": 0,
          "description": "Bottom coordinate (points from PDF origin)"
        },
        "width": {
          "type": "number",
          "minimum": 0,
          "description": "Width in points"
        },
        "height": {
          "type": "number",
          "minimum": 0,
          "description": "Height in points"
        },
        "coordinate_system": {
          "type": "string",
          "enum": [
            "pdf_points",
            "screen_pixels"
          ],
          "default": "pdf_points",
          "description": "Coordinate system used for measurements"
        }
      }
    },
    "ExtractionWarning": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "code",
        "message"
      ],
      "properties": {
        "code": {
          "type": "string",
          "enum": [
            "TABLE_PARSE_FAIL",
            "AMBIGUOUS_UNIT",
            "CI_PARSE_FAIL",
            "MISSING_ARM_ID",
            "MISSING_GROUP_ID",
            "OTHER"
          ]
        },
        "message": {
          "type": "string"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "TruncationInfo": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "value": {
          "type": "boolean",
          "default": false
        },
        "reason": {
          "type": "string",
          "enum": [
            "token_limit",
            "page_limit",
            "timeout",
            "other"
          ]
        }
      }
    },
    "Registration": {
      "type": "object",
      "additionalProperties": false,
      "description": "Clinical trial or study registration information",
      "properties": {
        "registry": {
          "type": "string",
          "enum": [
            "ClinicalTrials.gov",
            "ISRCTN",
            "EudraCT",
            "EU-CTR",
            "CTIS",
            "ChiCTR",
            "ANZCTR",
            "UMIN-CTR",
            "JPRN",
            "PACTR",
            "IRCT",
            "DRKS",
            "TCTR",
            "SLCTR",
            "RPCEC",
            "REBEC",
            "Other"
          ],
          "description": "Clinical trial registry (includes major international and regional registries)"
        },
        "identifier": {
          "type": "string",
          "description": "Registration identifier within the registry",
          "examples": [
            "NCT04123456",
            "ISRCTN12345678",
            "2020-001234-56",
            "UMIN000012345"
          ]
        },
        "url": {
          "type": "string",
          "format": "uri",
          "description": "Direct URL to the registration record"
        }
      },
      "allOf": [
        {
          "if": {
            "properties": {
              "registry": {
                "const": "ClinicalTrials.gov"
              }
            }
          },
          "then": {
            "properties": {
              "identifier": {
                "pattern": "^NCT\\d{8}$",
                "description": "ClinicalTrials.gov identifier format: NCT followed by 8 digits"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "registry": {
                "const": "ISRCTN"
              }
            }
          },
          "then": {
            "properties": {
              "identifier": {
                "pattern": "^ISRCTN\\d{8}$",
                "description": "ISRCTN identifier format: ISRCTN followed by 8 digits"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "registry": {
                "const": "EudraCT"
              }
            }
          },
          "then": {
            "properties": {
              "identifier": {
                "pattern": "^\\d{4}-\\d{6}-\\d{2}$",
                "description": "EudraCT identifier format: YYYY-NNNNNN-NN"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "registry": {
                "const": "UMIN-CTR"
              }
            }
          },
          "then": {
            "properties": {
              "identifier": {
                "pattern": "^UMIN\\d{9}$",
                "description": "UMIN-CTR identifier format: UMIN followed by 9 digits"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "registry": {
                "const": "ChiCTR"
              }
            }
          },
          "then": {
            "properties": {
              "identifier": {
                "pattern": "^ChiCTR\\d{10}$",
                "description": "ChiCTR identifier format: ChiCTR followed by 10 digits"
              }
            }
          }
        }
      ]
    },
    "SourceRef": {
      "type": "object",
      "additionalProperties": false,
      "description": "Reference to a specific location within a document",
      "properties": {
        "anchor": {
          "type": "string",
          "description": "Free-text pointer like 'Table 2', 'Fig 1', or sentence quote"
        },
        "page": {
          "type": "integer",
          "minimum": 1,
          "description": "Page number within the document"
        },
        "figure_id": {
          "type": "string",
          "description": "Identifier of a specific figure"
        },
        "table_id": {
          "type": "string",
          "description": "Identifier of a specific table"
        }
      }
    },
    "ParsingContext": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "parser_name",
        "parsing_timestamp"
      ],
      "properties": {
        "parser_name": {
          "type": "string",
          "description": "Name of the parsing tool/library used"
        },
        "parser_version": {
          "type": "string",
          "description": "Version of the parsing tool"
        },
        "parsing_timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "When parsing was performed"
        },
        "language_detected": {
          "$ref": "#/$defs/LanguageCode",
          "description": "Detected language of the document"
        },
        "ocr_engine": {
          "type": "string",
          "description": "OCR engine used (if applicable)"
        },
        "ocr_quality_score": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Overall OCR quality assessment"
        },
        "pdf_producer": {
          "type": "string",
          "description": "Software that generated the PDF"
        },
        "page_count": {
          "type": "integer",
          "minimum": 1,
          "description": "Total pages in document"
        },
        "sections_detected": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "Document sections automatically detected"
        },
        "parsing_warnings": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "Warnings encountered during parsing"
        },
        "ai_processing": {
          "$ref": "#/$defs/AIProcessingMetadata"
        }
      }
    },
    "LanguageCode": {
      "type": "string",
      "pattern": "^[a-z]{2,3}(-[A-Z]{2})?(-[a-z]{2,8})*$",
      "description": "BCP 47 language tag supporting language, region, and variants (e.g., 'en-US', 'zh-Hans-CN', 'ar-EG')",
      "examples": [
        "en",
        "en-US",
        "en-GB",
        "nl",
        "nl-NL",
        "nl-BE",
        "de-DE",
        "fr-FR",
        "es-ES",
        "zh-Hans",
        "zh-Hant",
        "ar-EG",
        "he-IL"
      ]
    },
    "Author": {
      "type": "object",
      "additionalProperties": false,
      "description": "Author information for academic publications",
      "required": [
        "last_name"
      ],
      "properties": {
        "last_name": {
          "type": "string",
          "description": "Author's family name"
        },
        "initials": {
          "type": "string",
          "description": "Author's first/middle name initials"
        },
        "given_names": {
          "type": "string",
          "description": "Author's full first and middle names"
        },
        "orcid": {
          "type": "string",
          "pattern": "^(https://orcid\\.org/)?0000-00(0[2-9]|[1-9]\\d)-\\d{4}-\\d{3}[\\dX]$",
          "description": "ORCID identifier with checksum validation (optionally with URL prefix)",
          "examples": [
            "0000-0002-1825-0097",
            "https://orcid.org/0000-0002-1825-0097"
          ]
        },
        "affiliations": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "Author's institutional affiliations"
        },
        "corresponding": {
          "type": "boolean",
          "default": false,
          "description": "Whether this author is the corresponding author"
        },
        "email": {
          "$ref": "#/$defs/EmailAddress",
          "description": "Contact email address (typically for corresponding authors)"
        }
      }
    },
    "SupplementFile": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "label"
      ],
      "properties": {
        "label": {
          "type": "string"
        },
        "filename": {
          "type": "string"
        },
        "url": {
          "type": "string",
          "format": "uri"
        },
        "doi": {
          "type": "string",
          "pattern": "^10\\.\\d{4,9}/[-._;()/:A-Za-z0-9]+$"
        },
        "content_type": {
          "type": "string"
        },
        "file_size": {
          "type": "integer",
          "minimum": 0,
          "description": "File size in bytes"
        },
        "checksum": {
          "$ref": "#/$defs/DataIntegrity"
        }
      }
    },
    "FigureSummary": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "figure_id",
        "caption"
      ],
      "properties": {
        "figure_id": {
          "type": "string"
        },
        "caption": {
          "type": "string"
        },
        "key_values": {
          "type": "object",
          "additionalProperties": {
            "type": "number"
          },
          "default": {}
        },
        "page": {
          "type": "integer",
          "minimum": 1
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "AIProcessingMetadata": {
      "type": "object",
      "additionalProperties": false,
      "description": "Metadata for AI/ML processing and bias detection",
      "properties": {
        "model_info": {
          "type": "object",
          "required": [
            "name",
            "version"
          ],
          "properties": {
            "name": {
              "type": "string",
              "description": "Model name or identifier"
            },
            "version": {
              "type": "string",
              "description": "Model version"
            },
            "architecture": {
              "type": "string",
              "enum": [
                "transformer",
                "cnn",
                "rnn",
                "lstm",
                "gru",
                "bert",
                "gpt",
                "ensemble",
                "classical_ml",
                "other"
              ],
              "description": "Model architecture type"
            },
            "training_data_size": {
              "type": "integer",
              "minimum": 0
            },
            "training_date": {
              "type": "string",
              "format": "date"
            },
            "fine_tuned": {
              "type": "boolean",
              "description": "Whether model was fine-tuned for specific domain"
            },
            "domain_specific": {
              "type": "boolean",
              "description": "Whether model is domain-specific (e.g., medical)"
            }
          }
        },
        "performance_metrics": {
          "type": "object",
          "properties": {
            "accuracy": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "precision": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "recall": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "f1_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "auc_roc": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "confidence_interval": {
              "$ref": "#/$defs/EffectCI"
            },
            "validation_method": {
              "type": "string",
              "enum": [
                "cross_validation",
                "holdout",
                "temporal_split",
                "external_validation",
                "other"
              ]
            },
            "test_set_size": {
              "type": "integer",
              "minimum": 0
            }
          }
        },
        "bias_assessment": {
          "type": "object",
          "description": "Assessment of potential biases in AI model",
          "properties": {
            "demographic_bias": {
              "type": "object",
              "properties": {
                "assessed": {
                  "type": "boolean"
                },
                "bias_detected": {
                  "type": "boolean"
                },
                "affected_groups": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Demographic groups showing bias"
                },
                "mitigation_applied": {
                  "type": "boolean"
                },
                "fairness_metrics": {
                  "type": "object",
                  "properties": {
                    "demographic_parity": {
                      "type": "number"
                    },
                    "equalized_odds": {
                      "type": "number"
                    },
                    "calibration": {
                      "type": "number"
                    }
                  }
                }
              }
            },
            "selection_bias": {
              "type": "object",
              "properties": {
                "training_data_representativeness": {
                  "type": "string",
                  "enum": [
                    "high",
                    "moderate",
                    "low",
                    "unknown"
                  ]
                },
                "sampling_method": {
                  "type": "string"
                },
                "geographic_bias": {
                  "type": "boolean"
                },
                "temporal_bias": {
                  "type": "boolean"
                }
              }
            },
            "confirmation_bias": {
              "type": "object",
              "properties": {
                "label_quality_assessment": {
                  "type": "boolean"
                },
                "inter_annotator_agreement": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                },
                "annotation_guidelines": {
                  "type": "string"
                }
              }
            }
          }
        },
        "explainability": {
          "type": "object",
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "lime",
                "shap",
                "attention_weights",
                "gradient_attribution",
                "integrated_gradients",
                "permutation_importance",
                "other"
              ],
              "description": "Explainability method used"
            },
            "feature_importance": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "feature": {
                    "type": "string"
                  },
                  "importance_score": {
                    "type": "number"
                  },
                  "rank": {
                    "type": "integer",
                    "minimum": 1
                  }
                }
              }
            },
            "global_explanations": {
              "type": "boolean"
            },
            "local_explanations": {
              "type": "boolean"
            },
            "counterfactual_examples": {
              "type": "boolean"
            }
          }
        },
        "uncertainty_quantification": {
          "type": "object",
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "bayesian",
                "ensemble",
                "monte_carlo_dropout",
                "conformal_prediction",
                "none"
              ],
              "description": "Uncertainty quantification method"
            },
            "epistemic_uncertainty": {
              "type": "number",
              "description": "Model uncertainty"
            },
            "aleatoric_uncertainty": {
              "type": "number",
              "description": "Data uncertainty"
            },
            "prediction_intervals": {
              "type": "boolean"
            },
            "out_of_distribution_detection": {
              "type": "boolean"
            }
          }
        },
        "ethical_considerations": {
          "type": "object",
          "properties": {
            "informed_consent": {
              "type": "boolean",
              "description": "Whether data subjects provided informed consent for AI processing"
            },
            "data_minimization": {
              "type": "boolean",
              "description": "Whether data minimization principle was applied"
            },
            "right_to_explanation": {
              "type": "boolean",
              "description": "Whether explanations are provided to affected individuals"
            },
            "human_oversight": {
              "type": "string",
              "enum": [
                "human_in_the_loop",
                "human_on_the_loop",
                "human_out_of_the_loop"
              ],
              "description": "Level of human oversight in AI decisions"
            },
            "impact_assessment": {
              "type": "boolean",
              "description": "Whether algorithmic impact assessment was conducted"
            }
          }
        }
      }
    },
    "EffectCI": {
      "type": "object",
      "additionalProperties": false,
      "description": "Confidence interval for effect estimates",
      "required": [
        "lower",
        "upper"
      ],
      "properties": {
        "level": {
          "type": "number",
          "minimum": 50,
          "maximum": 99.99,
          "default": 95,
          "description": "Confidence level as percentage (e.g., 95, 97.5, 99)"
        },
        "lower": {
          "type": "number",
          "description": "Lower bound of confidence interval"
        },
        "upper": {
          "type": "number",
          "description": "Upper bound of confidence interval"
        }
      }
    },
    "DataIntegrity": {
      "type": "object",
      "additionalProperties": false,
      "description": "Data integrity verification with multiple hash algorithms",
      "required": [
        "algorithm",
        "value"
      ],
      "properties": {
        "algorithm": {
          "type": "string",
          "enum": [
            "SHA-256",
            "SHA-512",
            "SHA-3-256",
            "SHA-3-512",
            "BLAKE2b",
            "SHA-1",
            "MD5",
            "CRC32"
          ],
          "description": "Cryptographic hash algorithm used"
        },
        "value": {
          "type": "string",
          "description": "Hex-encoded hash value"
        },
        "salt": {
          "type": "string",
          "description": "Optional salt value for enhanced security"
        },
        "verification_timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "When the hash was computed or verified"
        },
        "verified_by": {
          "type": "string",
          "description": "System or person who verified the hash"
        },
        "multiple_hashes": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "algorithm",
              "value"
            ],
            "properties": {
              "algorithm": {
                "type": "string"
              },
              "value": {
                "type": "string"
              }
            }
          },
          "description": "Additional hash values using different algorithms for enhanced verification"
        }
      },
      "allOf": [
        {
          "if": {
            "properties": {
              "algorithm": {
                "const": "SHA-256"
              }
            }
          },
          "then": {
            "properties": {
              "value": {
                "pattern": "^[a-fA-F0-9]{64}$",
                "description": "SHA-256 hash must be 64 hex characters"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "algorithm": {
                "const": "SHA-512"
              }
            }
          },
          "then": {
            "properties": {
              "value": {
                "pattern": "^[a-fA-F0-9]{128}$",
                "description": "SHA-512 hash must be 128 hex characters"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "algorithm": {
                "const": "SHA-3-256"
              }
            }
          },
          "then": {
            "properties": {
              "value": {
                "pattern": "^[a-fA-F0-9]{64}$",
                "description": "SHA-3-256 hash must be 64 hex characters"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "algorithm": {
                "const": "SHA-3-512"
              }
            }
          },
          "then": {
            "properties": {
              "value": {
                "pattern": "^[a-fA-F0-9]{128}$",
                "description": "SHA-3-512 hash must be 128 hex characters"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "algorithm": {
                "const": "BLAKE2b"
              }
            }
          },
          "then": {
            "properties": {
              "value": {
                "pattern": "^[a-fA-F0-9]{128}$",
                "description": "BLAKE2b hash must be 128 hex characters"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "algorithm": {
                "const": "SHA-1"
              }
            }
          },
          "then": {
            "properties": {
              "value": {
                "pattern": "^[a-fA-F0-9]{40}$",
                "description": "SHA-1 hash must be 40 hex characters"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "algorithm": {
                "const": "MD5"
              }
            }
          },
          "then": {
            "properties": {
              "value": {
                "pattern": "^[a-fA-F0-9]{32}$",
                "description": "MD5 hash must be 32 hex characters"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "algorithm": {
                "const": "CRC32"
              }
            }
          },
          "then": {
            "properties": {
              "value": {
                "pattern": "^[a-fA-F0-9]{8}$",
                "description": "CRC32 hash must be 8 hex characters"
              }
            }
          }
        }
      ]
    },
    "EmailAddress": {
      "type": "string",
      "format": "email",
      "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
      "description": "Valid email address for correspondence",
      "examples": [
        "researcher@university.edu",
        "corresponding.author@hospital.org"
      ]
    }
  }
}
