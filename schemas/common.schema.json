{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "common.schema.json",
  "$vocabulary": {
    "https://json-schema.org/draft/2020-12/vocab/core": true,
    "https://json-schema.org/draft/2020-12/vocab/applicator": true,
    "https://json-schema.org/draft/2020-12/vocab/validation": true,
    "https://json-schema.org/draft/2020-12/vocab/meta-data": true,
    "https://json-schema.org/draft/2020-12/vocab/format-annotation": true,
    "https://json-schema.org/draft/2020-12/vocab/content": true,
    "https://json-schema.org/draft/2020-12/vocab/unevaluated": true
  },
  "$context": {
    "@vocab": "https://schema.org/",
    "fhir": "http://hl7.org/fhir/",
    "mesh": "https://meshb.nlm.nih.gov/record/ui?ui=",
    "snomed": "http://snomed.info/sct/",
    "loinc": "http://loinc.org/",
    "pmid": "https://pubmed.ncbi.nlm.nih.gov/",
    "doi": "https://doi.org/",
    "orcid": "https://orcid.org/",
    "schema_version": "version",
    "metadata": "citation",
    "title": "name",
    "authors": "author",
    "journal": "publisher",
    "published_date": "datePublished",
    "language": "inLanguage",
    "funding": "funding",
    "external_ids": "identifier"
  },
  "title": "Common Definitions for Medical Evidence Schemas",
  "type": "object",
  "description": "Shared $defs for all publication-type schemas (interventional, observational, diagnostic accuracy, evidence synthesis, etc.). Reference with $ref to #/$defs/*.",
  "additionalProperties": false,
  "properties": {
    "schema_info": {
      "type": [
        "object",
        "null"
      ],
      "description": "Schema metadata and versioning information",
      "properties": {
        "version": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+$"
        },
        "last_updated": {
          "type": "string",
          "format": "date"
        },
        "compatibility": {
          "type": "string",
          "enum": [
            "breaking",
            "backwards_compatible",
            "patch"
          ]
        }
      },
      "additionalProperties": false
    }
  },
  "$defs": {
    "ISO8601Duration": {
      "$anchor": "duration",
      "type": "string",
      "pattern": "^P(?:(?:\\d+Y)?(?:\\d+M)?(?:\\d+W)?(?:\\d+D)?)?(?:T(?:\\d+H)?(?:\\d+M)?(?:\\d+(?:\\.\\d+)?S)?)?$",
      "description": "Strict ISO 8601 duration (e.g., 'P30D', 'PT24H', 'P2W', 'P1Y2M3DT4H5M6S').",
      "examples": [
        "P30D",
        "PT24H",
        "P2W",
        "P6M",
        "P1Y",
        "PT2H30M",
        "P1Y2M3DT4H5M6.789S"
      ]
    },
    "LanguageCode": {
      "type": "string",
      "pattern": "^[a-z]{2,3}(-[A-Z]{2})?(-[a-z]{2,8})*$",
      "description": "BCP 47 language tag supporting language, region, and variants (e.g., 'en-US', 'zh-Hans-CN', 'ar-EG')",
      "examples": [
        "en",
        "en-US",
        "en-GB",
        "nl",
        "nl-NL",
        "nl-BE",
        "de-DE",
        "fr-FR",
        "es-ES",
        "zh-Hans",
        "zh-Hant",
        "ar-EG",
        "he-IL"
      ]
    },
    "LanguageScript": {
      "type": "string",
      "enum": [
        "Latin",
        "Arabic",
        "Hebrew",
        "Cyrillic",
        "Greek",
        "Han",
        "Hiragana",
        "Katakana",
        "Thai",
        "Devanagari",
        "Other"
      ],
      "description": "Writing system/script used in the document"
    },
    "TextDirection": {
      "type": "string",
      "enum": [
        "ltr",
        "rtl",
        "ttb",
        "btt"
      ],
      "description": "Text direction: left-to-right, right-to-left, top-to-bottom, bottom-to-top"
    },
    "LanguageDetection": {
      "type": "object",
      "additionalProperties": false,
      "description": "Language detection result with confidence scoring and script information",
      "required": [
        "alternative_languages",
        "confidence",
        "detection_method",
        "dominant_segments",
        "language",
        "mixed_language",
        "script",
        "text_direction"
      ],
      "properties": {
        "language": {
          "$ref": "#/$defs/LanguageCode"
        },
        "script": {
          "$ref": "#/$defs/LanguageScript"
        },
        "text_direction": {
          "$ref": "#/$defs/TextDirection"
        },
        "confidence": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Confidence score for language detection"
        },
        "detection_method": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "automatic",
            "manual",
            "metadata",
            "filename",
            "character_encoding",
            "unicode_block"
          ],
          "description": "Method used for language detection"
        },
        "alternative_languages": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "required": [
              "confidence",
              "language",
              "script"
            ],
            "properties": {
              "language": {
                "$ref": "#/$defs/LanguageCode"
              },
              "script": {
                "$ref": "#/$defs/LanguageScript"
              },
              "confidence": {
                "type": "number",
                "minimum": 0,
                "maximum": 1
              }
            },
            "additionalProperties": false
          },
          "description": "Alternative language candidates with confidence scores"
        },
        "mixed_language": {
          "type": [
            "boolean",
            "null"
          ],
          "description": "Whether document contains multiple languages"
        },
        "dominant_segments": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "properties": {
              "language": {
                "$ref": "#/$defs/LanguageCode"
              },
              "percentage": {
                "type": [
                  "number",
                  "null"
                ],
                "minimum": 0,
                "maximum": 100
              },
              "sections": {
                "type": [
                  "array",
                  "null"
                ],
                "items": {
                  "type": "string"
                }
              }
            },
            "additionalProperties": false,
            "required": [
              "language",
              "percentage",
              "sections"
            ]
          },
          "description": "Language distribution across document sections"
        }
      }
    },
    "CountryCodeAlpha2": {
      "type": "string",
      "pattern": "^[A-Z]{2}$",
      "description": "ISO 3166-1 alpha-2 country code (e.g., 'NL', 'US')."
    },
    "CountryCode": {
      "$ref": "#/$defs/CountryCodeAlpha2"
    },
    "EmailAddress": {
      "type": "string",
      "format": "email",
      "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
      "description": "Valid email address for correspondence",
      "examples": [
        "researcher@university.edu",
        "corresponding.author@hospital.org"
      ]
    },
    "SourceRef": {
      "type": "object",
      "additionalProperties": false,
      "description": "Reference to a specific location within a document",
      "properties": {
        "anchor": {
          "type": [
            "string",
            "null"
          ],
          "description": "Free-text pointer like 'Table 2', 'Fig 1', or sentence quote"
        },
        "page": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "description": "Page number within the document"
        },
        "figure_id": {
          "type": [
            "string",
            "null"
          ],
          "description": "Identifier of a specific figure"
        },
        "table_id": {
          "type": [
            "string",
            "null"
          ],
          "description": "Identifier of a specific table"
        }
      },
      "required": [
        "anchor",
        "figure_id",
        "page",
        "table_id"
      ]
    },
    "Author": {
      "type": "object",
      "additionalProperties": false,
      "description": "Author information for academic publications",
      "required": [
        "affiliations",
        "corresponding",
        "email",
        "given_names",
        "initials",
        "last_name",
        "orcid"
      ],
      "properties": {
        "last_name": {
          "type": "string",
          "description": "Author's family name"
        },
        "initials": {
          "type": [
            "string",
            "null"
          ],
          "description": "Author's first/middle name initials"
        },
        "given_names": {
          "type": [
            "string",
            "null"
          ],
          "description": "Author's full first and middle names"
        },
        "orcid": {
          "type": [
            "string",
            "null"
          ],
          "pattern": "^(https://orcid\\.org/)?0000-00(0[2-9]|[1-9]\\d)-\\d{4}-\\d{3}[\\dX]$",
          "description": "ORCID identifier with checksum validation (optionally with URL prefix)",
          "examples": [
            "0000-0002-1825-0097",
            "https://orcid.org/0000-0002-1825-0097"
          ]
        },
        "affiliations": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          },
          "description": "Author's institutional affiliations"
        },
        "corresponding": {
          "type": [
            "boolean",
            "null"
          ],
          "description": "Whether this author is the corresponding author"
        },
        "email": {
          "$ref": "#/$defs/EmailAddress"
        }
      }
    },
    "Registration": {
      "type": "object",
      "additionalProperties": false,
      "description": "Clinical trial or study registration information",
      "properties": {
        "registry": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "ClinicalTrials.gov",
            "ISRCTN",
            "EudraCT",
            "EU-CTR",
            "CTIS",
            "ChiCTR",
            "ANZCTR",
            "UMIN-CTR",
            "JPRN",
            "PACTR",
            "IRCT",
            "DRKS",
            "TCTR",
            "SLCTR",
            "RPCEC",
            "REBEC",
            "Other"
          ],
          "description": "Clinical trial registry (includes major international and regional registries)"
        },
        "identifier": {
          "type": [
            "string",
            "null"
          ],
          "description": "Registration identifier within the registry",
          "examples": [
            "NCT04123456",
            "ISRCTN12345678",
            "2020-001234-56",
            "UMIN000012345"
          ]
        },
        "url": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri",
          "description": "Direct URL to the registration record"
        }
      },
      "required": [
        "identifier",
        "registry",
        "url"
      ]
    },
    "Metadata": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "article_number",
        "authors",
        "conflict_of_interest",
        "content_hash_sha256",
        "doi",
        "eissn",
        "elocation_id",
        "epub_ahead_of_print_date",
        "external_ids",
        "funding",
        "issn",
        "issue",
        "journal",
        "journal_abbrev",
        "page_end",
        "page_start",
        "pages",
        "parsing_context",
        "pmcid",
        "pmid",
        "protocol_ref",
        "published_date",
        "published_date_precision",
        "registration",
        "source",
        "supplements",
        "title",
        "vancouver_citation",
        "vancouver_source",
        "volume"
      ],
      "properties": {
        "title": {
          "type": "string"
        },
        "journal": {
          "type": "string"
        },
        "journal_abbrev": {
          "type": [
            "string",
            "null"
          ]
        },
        "published_date": {
          "type": [
            "string",
            "null"
          ],
          "format": "date"
        },
        "published_date_precision": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "year",
            "month",
            "day"
          ]
        },
        "volume": {
          "type": [
            "string",
            "null"
          ]
        },
        "issue": {
          "type": [
            "string",
            "null"
          ]
        },
        "pages": {
          "type": [
            "string",
            "null"
          ]
        },
        "page_start": {
          "type": [
            "string",
            "null"
          ]
        },
        "page_end": {
          "type": [
            "string",
            "null"
          ]
        },
        "article_number": {
          "type": [
            "string",
            "null"
          ]
        },
        "elocation_id": {
          "type": [
            "string",
            "null"
          ]
        },
        "issn": {
          "type": [
            "string",
            "null"
          ],
          "pattern": "^\\d{4}-\\d{3}[\\dxX]$",
          "description": "International Standard Serial Number (print version)"
        },
        "eissn": {
          "type": [
            "string",
            "null"
          ],
          "pattern": "^\\d{4}-\\d{3}[\\dxX]$",
          "description": "Electronic International Standard Serial Number"
        },
        "authors": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/$defs/Author"
          }
        },
        "pmid": {
          "type": [
            "string",
            "null"
          ],
          "pattern": "^\\d{1,8}$"
        },
        "pmcid": {
          "type": [
            "string",
            "null"
          ],
          "pattern": "^PMC\\d+$"
        },
        "doi": {
          "type": [
            "string",
            "null"
          ],
          "pattern": "^10\\.\\d{4,}(\\.\\d+)?/[-._;()/:A-Za-z0-9\\[\\]]+$",
          "description": "DOI with comprehensive character support including brackets and extended punctuation",
          "examples": [
            "10.1056/NEJMoa2001017",
            "10.1002/(SICI)1097-0142(19960101)77:1<1::AID-CNCR1>3.0.CO;2-Z"
          ]
        },
        "registration": {
          "$ref": "#/$defs/Registration"
        },
        "protocol_ref": {
          "type": [
            "string",
            "null"
          ]
        },
        "funding": {
          "type": [
            "string",
            "null"
          ]
        },
        "conflict_of_interest": {
          "type": [
            "string",
            "null"
          ]
        },
        "epub_ahead_of_print_date": {
          "type": [
            "string",
            "null"
          ]
        },
        "vancouver_citation": {
          "type": [
            "string",
            "null"
          ]
        },
        "vancouver_source": {
          "$ref": "#/$defs/SourceRef"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        },
        "external_ids": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/$defs/ExternalId"
          }
        },
        "supplements": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/$defs/SupplementFile"
          }
        },
        "parsing_context": {
          "$ref": "#/$defs/ParsingContext"
        },
        "content_hash_sha256": {
          "type": [
            "string",
            "null"
          ],
          "pattern": "^[a-fA-F0-9]{64}$",
          "description": "SHA-256 hash van bronbestand of platte tekst (64-char hex)"
        }
      }
    },
    "EffectCI": {
      "type": "object",
      "additionalProperties": false,
      "description": "Confidence interval for effect estimates",
      "required": [
        "level",
        "lower",
        "upper"
      ],
      "properties": {
        "level": {
          "type": [
            "number",
            "null"
          ],
          "enum": [
            80,
            90,
            95,
            99
          ],
          "description": "Confidence level as percentage"
        },
        "lower": {
          "type": "number",
          "description": "Lower bound of confidence interval"
        },
        "upper": {
          "type": "number",
          "description": "Upper bound of confidence interval"
        }
      }
    },
    "ContrastEffect": {
      "type": "object",
      "additionalProperties": false,
      "description": "Statistical effect estimate with confidence interval",
      "required": [
        "bayes_factor",
        "ci",
        "credible_interval",
        "favors",
        "p_value",
        "point",
        "posterior_probability",
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "RR",
            "IRR",
            "OR",
            "HR",
            "MD",
            "SMD",
            "RD",
            "RMST",
            "Other"
          ],
          "description": "Type of effect measure (RR=Risk Ratio, OR=Odds Ratio, HR=Hazard Ratio, etc.)"
        },
        "point": {
          "type": "number",
          "description": "Point estimate of the effect"
        },
        "ci": {
          "$ref": "#/$defs/EffectCI"
        },
        "credible_interval": {
          "$ref": "#/$defs/BayesianInterval"
        },
        "p_value": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Statistical significance p-value"
        },
        "bayes_factor": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "description": "Bayesian evidence ratio (BF10 or BF01)"
        },
        "posterior_probability": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Posterior probability of effect direction"
        },
        "favors": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "treatment_or_exposure",
            "control_or_reference",
            "neutral",
            "unclear"
          ],
          "description": "Which group the effect favors based on clinical interpretation"
        }
      }
    },
    "BayesianInterval": {
      "type": "object",
      "additionalProperties": false,
      "description": "Bayesian credible interval",
      "required": [
        "credibility",
        "hdi",
        "lower",
        "upper"
      ],
      "properties": {
        "lower": {
          "type": "number",
          "description": "Lower bound of credible interval"
        },
        "upper": {
          "type": "number",
          "description": "Upper bound of credible interval"
        },
        "credibility": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Credibility level (e.g., 0.95 for 95% CrI)"
        },
        "hdi": {
          "type": [
            "boolean",
            "null"
          ],
          "description": "Whether this is a Highest Density Interval"
        }
      }
    },
    "HeterogeneityMetrics": {
      "type": "object",
      "additionalProperties": false,
      "description": "Statistical heterogeneity measures for meta-analysis",
      "properties": {
        "I2_pct": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 100,
          "description": "I-squared statistic (percentage of variance due to heterogeneity)"
        },
        "tau2": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "description": "Tau-squared (between-study variance)"
        },
        "H_statistic": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 1,
          "description": "H statistic (ratio of total to within-study variance)"
        },
        "Q_statistic": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "description": "Cochran's Q statistic"
        },
        "Q_p_value": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "P-value for Q statistic"
        },
        "prediction_interval": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "lower": {
              "type": "number"
            },
            "upper": {
              "type": "number"
            },
            "level": {
              "type": "number"
            }
          },
          "description": "Prediction interval for future studies",
          "additionalProperties": false
        }
      },
      "required": [
        "H_statistic",
        "I2_pct",
        "Q_p_value",
        "Q_statistic",
        "prediction_interval",
        "tau2"
      ]
    },
    "Biomarker": {
      "type": "object",
      "additionalProperties": false,
      "description": "Biomarker measurement with clinical context",
      "required": [
        "assay_type",
        "cutoff_threshold",
        "name",
        "ontology_term",
        "sensitivity",
        "source",
        "specificity",
        "unit",
        "value"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "Biomarker name or identifier"
        },
        "value": {
          "type": "number",
          "description": "Measured value"
        },
        "unit": {
          "type": [
            "string",
            "null"
          ],
          "description": "Unit of measurement (preferably UCUM)"
        },
        "assay_type": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "immunoassay",
            "mass_spec",
            "pcr",
            "flow_cytometry",
            "other"
          ],
          "description": "Type of assay used"
        },
        "cutoff_threshold": {
          "type": [
            "number",
            "null"
          ],
          "description": "Clinical decision threshold"
        },
        "sensitivity": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Diagnostic sensitivity at threshold"
        },
        "specificity": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Diagnostic specificity at threshold"
        },
        "ontology_term": {
          "$ref": "#/$defs/OntologyTerm"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "SurvivalAnalysis": {
      "type": "object",
      "additionalProperties": false,
      "description": "Time-to-event analysis with censoring information",
      "required": [
        "censoring",
        "competing_events",
        "median_survival",
        "method"
      ],
      "properties": {
        "method": {
          "type": "string",
          "enum": [
            "kaplan_meier",
            "cox_regression",
            "accelerated_failure_time",
            "competing_risks",
            "other"
          ],
          "description": "Statistical method used for survival analysis"
        },
        "median_survival": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "time": {
              "type": "number",
              "minimum": 0
            },
            "unit": {
              "type": "string"
            },
            "ci": {
              "$ref": "#/$defs/EffectCI"
            },
            "not_reached": {
              "type": "boolean",
              "description": "Whether median survival was not reached"
            }
          },
          "additionalProperties": false
        },
        "censoring": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "right",
                "left",
                "interval",
                "mixed"
              ],
              "description": "Type of censoring present in the data"
            },
            "percentage": {
              "type": "number",
              "minimum": 0,
              "maximum": 100,
              "description": "Percentage of observations that are censored"
            },
            "informative_risk": {
              "type": "string",
              "enum": [
                "low",
                "moderate",
                "high",
                "unknown"
              ],
              "description": "Risk that censoring is informative (not random)"
            }
          },
          "additionalProperties": false
        },
        "competing_events": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "required": [
              "cumulative_incidence",
              "event_type",
              "time_point"
            ],
            "properties": {
              "event_type": {
                "type": "string"
              },
              "cumulative_incidence": {
                "type": [
                  "number",
                  "null"
                ],
                "minimum": 0,
                "maximum": 1
              },
              "time_point": {
                "type": [
                  "number",
                  "null"
                ],
                "minimum": 0
              }
            },
            "additionalProperties": false
          }
        }
      }
    },
    "MissingDataPattern": {
      "type": "object",
      "additionalProperties": false,
      "description": "Missing data analysis and patterns",
      "properties": {
        "mechanism": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "MCAR",
            "MAR",
            "MNAR",
            "unknown"
          ],
          "description": "Missing data mechanism (Missing Completely At Random, Missing At Random, Missing Not At Random)"
        },
        "percentage": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 100,
          "description": "Percentage of missing data"
        },
        "pattern_analysis": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "monotone": {
              "type": "boolean",
              "description": "Whether missing pattern is monotone"
            },
            "little_test_p": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "P-value from Little's MCAR test"
            }
          },
          "additionalProperties": false
        },
        "imputation_method": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "complete_case",
            "last_observation_carried_forward",
            "multiple_imputation",
            "mean_imputation",
            "regression_imputation",
            "hot_deck",
            "other"
          ],
          "description": "Method used to handle missing data"
        },
        "sensitivity_analysis": {
          "type": [
            "boolean",
            "null"
          ],
          "description": "Whether sensitivity analysis for missing data was performed"
        }
      },
      "required": [
        "imputation_method",
        "mechanism",
        "pattern_analysis",
        "percentage",
        "sensitivity_analysis"
      ]
    },
    "SampleSizeCalculation": {
      "type": "object",
      "additionalProperties": false,
      "description": "Sample size justification and power analysis",
      "properties": {
        "target_n": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "description": "Target sample size"
        },
        "achieved_n": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "description": "Actually achieved sample size"
        },
        "power": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Statistical power (1 - β)"
        },
        "alpha": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Type I error rate (α)"
        },
        "effect_size": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "value": {
              "type": "number"
            },
            "type": {
              "type": "string",
              "enum": [
                "cohen_d",
                "odds_ratio",
                "hazard_ratio",
                "correlation",
                "proportion_difference",
                "other"
              ]
            },
            "clinically_meaningful": {
              "type": "boolean",
              "description": "Whether effect size is clinically meaningful"
            }
          },
          "additionalProperties": false
        },
        "dropout_rate": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Expected dropout/attrition rate"
        }
      },
      "required": [
        "achieved_n",
        "alpha",
        "dropout_rate",
        "effect_size",
        "power",
        "target_n"
      ]
    },
    "RiskOfBias": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "tool": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "RoB2",
            "ROBINS-I",
            "PROBAST",
            "Other"
          ]
        },
        "overall": {
          "type": [
            "string",
            "null"
          ]
        },
        "domains": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "domain",
              "judgement",
              "notes"
            ],
            "properties": {
              "domain": {
                "type": "string"
              },
              "judgement": {
                "type": "string",
                "enum": [
                  "low",
                  "some",
                  "high",
                  "unclear",
                  "moderate",
                  "serious",
                  "critical",
                  "no_information",
                  "some_concerns"
                ]
              },
              "notes": {
                "type": [
                  "string",
                  "null"
                ]
              }
            }
          }
        },
        "applicability": {
          "type": [
            "object",
            "null"
          ],
          "additionalProperties": false,
          "properties": {
            "participants": {
              "type": "string",
              "enum": [
                "low",
                "high",
                "unclear"
              ]
            },
            "predictors": {
              "type": "string",
              "enum": [
                "low",
                "high",
                "unclear"
              ]
            },
            "outcome": {
              "type": "string",
              "enum": [
                "low",
                "high",
                "unclear"
              ]
            },
            "notes": {
              "type": "string"
            }
          }
        },
        "provenance": {
          "$ref": "#/$defs/Provenance"
        }
      },
      "required": [
        "applicability",
        "domains",
        "overall",
        "provenance",
        "tool"
      ]
    },
    "ExtractionWarning": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "code",
        "message",
        "source"
      ],
      "properties": {
        "code": {
          "type": "string",
          "enum": [
            "TABLE_PARSE_FAIL",
            "AMBIGUOUS_UNIT",
            "CI_PARSE_FAIL",
            "MISSING_ARM_ID",
            "MISSING_GROUP_ID",
            "OTHER"
          ]
        },
        "message": {
          "type": "string"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "TruncationInfo": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "value": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "reason": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "token_limit",
            "page_limit",
            "timeout",
            "other"
          ]
        }
      },
      "required": [
        "reason",
        "value"
      ]
    },
    "ParsedTable": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "page",
        "rows",
        "source",
        "table_id",
        "title",
        "type"
      ],
      "properties": {
        "table_id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "page": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1
        },
        "type": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "baseline",
            "outcomes",
            "harms",
            "methods",
            "other"
          ]
        },
        "rows": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "cells"
            ],
            "properties": {
              "cells": {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "string"
                }
              }
            }
          }
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "FigureSummary": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "caption",
        "figure_id",
        "key_values",
        "page",
        "source"
      ],
      "properties": {
        "figure_id": {
          "type": "string"
        },
        "caption": {
          "type": "string"
        },
        "key_values": {
          "type": [
            "object",
            "null"
          ],
          "additionalProperties": {
            "type": "number"
          }
        },
        "page": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      }
    },
    "Provenance": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "extractor": {
          "type": [
            "string",
            "null"
          ],
          "description": "Person or system that performed extraction"
        },
        "method": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "human_double_entry",
            "human_single",
            "llm_assisted",
            "rule_based",
            "automated",
            "other"
          ],
          "description": "Extraction method used"
        },
        "confidence": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Extractor's confidence in the extraction"
        },
        "timestamp": {
          "type": [
            "string",
            "null"
          ],
          "format": "date-time",
          "description": "When extraction was performed"
        },
        "transformation_notes": {
          "type": [
            "string",
            "null"
          ],
          "description": "Notes about data processing or transformation"
        },
        "consensus_status": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "agreement",
            "disagreement",
            "resolved",
            "single_reviewer",
            "not_applicable"
          ],
          "description": "Status of reviewer consensus (for double extraction)"
        },
        "reviewers": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          },
          "description": "List of reviewers involved in extraction"
        },
        "adjudication": {
          "$ref": "#/$defs/Adjudication"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        }
      },
      "required": [
        "adjudication",
        "confidence",
        "consensus_status",
        "extractor",
        "method",
        "reviewers",
        "source",
        "timestamp",
        "transformation_notes"
      ]
    },
    "Adjudication": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "needed": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "adjudicator": {
          "type": [
            "string",
            "null"
          ]
        },
        "notes": {
          "type": [
            "string",
            "null"
          ]
        }
      },
      "required": [
        "adjudicator",
        "needed",
        "notes"
      ]
    },
    "OntologyTerm": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "code",
        "display",
        "fhir_coding",
        "system",
        "version"
      ],
      "properties": {
        "system": {
          "type": "string",
          "enum": [
            "MeSH",
            "SNOMED-CT",
            "LOINC",
            "MedDRA",
            "ICD-10",
            "ICD-11",
            "UMLS",
            "RxNorm",
            "ATC",
            "CPT",
            "HCPCS",
            "Other"
          ],
          "description": "Standard medical terminology system"
        },
        "code": {
          "type": "string",
          "description": "Code within the terminology system"
        },
        "display": {
          "type": [
            "string",
            "null"
          ],
          "description": "Human-readable description of the code"
        },
        "version": {
          "type": [
            "string",
            "null"
          ],
          "description": "Version of the terminology system used"
        },
        "fhir_coding": {
          "$ref": "#/$defs/FHIRCoding"
        }
      }
    },
    "FHIRCoding": {
      "type": "object",
      "additionalProperties": false,
      "description": "FHIR R5 Coding datatype for medical terminology",
      "properties": {
        "system": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri",
          "description": "URI that identifies the code system"
        },
        "version": {
          "type": [
            "string",
            "null"
          ],
          "description": "Version of the code system"
        },
        "code": {
          "type": [
            "string",
            "null"
          ],
          "description": "Symbol in syntax defined by the system"
        },
        "display": {
          "type": [
            "string",
            "null"
          ],
          "description": "Representation defined by the system"
        },
        "userSelected": {
          "type": [
            "boolean",
            "null"
          ],
          "description": "If this coding was chosen directly by the user"
        }
      },
      "required": [
        "code",
        "display",
        "system",
        "userSelected",
        "version"
      ]
    },
    "FHIRCodeableConcept": {
      "type": "object",
      "additionalProperties": false,
      "description": "FHIR R5 CodeableConcept for complex medical concepts",
      "properties": {
        "coding": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/$defs/FHIRCoding"
          },
          "description": "Code defined by a terminology system"
        },
        "text": {
          "type": [
            "string",
            "null"
          ],
          "description": "Plain text representation of the concept"
        }
      },
      "required": [
        "coding",
        "text"
      ]
    },
    "FHIRIdentifier": {
      "type": "object",
      "additionalProperties": false,
      "description": "FHIR R5 Identifier for business identifiers",
      "properties": {
        "use": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "usual",
            "official",
            "temp",
            "secondary",
            "old"
          ],
          "description": "The purpose of this identifier"
        },
        "type": {
          "$ref": "#/$defs/FHIRCodeableConcept"
        },
        "system": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri",
          "description": "The namespace for the identifier value"
        },
        "value": {
          "type": [
            "string",
            "null"
          ],
          "description": "The value that is unique"
        },
        "period": {
          "$ref": "#/$defs/FHIRPeriod"
        },
        "assigner": {
          "type": [
            "string",
            "null"
          ],
          "description": "Organization that issued the identifier"
        }
      },
      "required": [
        "assigner",
        "period",
        "system",
        "type",
        "use",
        "value"
      ]
    },
    "FHIRPeriod": {
      "type": "object",
      "additionalProperties": false,
      "description": "FHIR R5 Period datatype for time ranges",
      "properties": {
        "start": {
          "type": [
            "string",
            "null"
          ],
          "format": "date-time",
          "description": "Start time with inclusive boundary"
        },
        "end": {
          "type": [
            "string",
            "null"
          ],
          "format": "date-time",
          "description": "End time with inclusive boundary"
        }
      },
      "required": [
        "end",
        "start"
      ]
    },
    "FHIRQuantity": {
      "type": "object",
      "additionalProperties": false,
      "description": "FHIR R5 Quantity datatype for measured amounts",
      "properties": {
        "value": {
          "type": [
            "number",
            "null"
          ],
          "description": "Numerical value (with implicit precision)"
        },
        "comparator": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "<",
            "<=",
            ">=",
            ">"
          ],
          "description": "How to interpret the value"
        },
        "unit": {
          "type": [
            "string",
            "null"
          ],
          "description": "Unit representation"
        },
        "system": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri",
          "description": "System that defines coded unit form"
        },
        "code": {
          "type": [
            "string",
            "null"
          ],
          "description": "Coded form of the unit"
        }
      },
      "required": [
        "code",
        "comparator",
        "system",
        "unit",
        "value"
      ]
    },
    "FHIRReference": {
      "type": "object",
      "additionalProperties": false,
      "description": "FHIR R5 Reference to another resource",
      "properties": {
        "reference": {
          "type": [
            "string",
            "null"
          ],
          "description": "Literal reference, Relative, internal or absolute URL"
        },
        "type": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri",
          "description": "Type the reference refers to (e.g. Patient)"
        },
        "identifier": {
          "$ref": "#/$defs/FHIRIdentifier"
        },
        "display": {
          "type": [
            "string",
            "null"
          ],
          "description": "Text alternative for the resource"
        }
      },
      "required": [
        "display",
        "identifier",
        "reference",
        "type"
      ]
    },
    "LinkedDataResource": {
      "type": "object",
      "additionalProperties": false,
      "description": "Linked Data resource with semantic annotations",
      "properties": {
        "@id": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri",
          "description": "Unique identifier (IRI) for this resource"
        },
        "@type": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          ],
          "description": "RDF type(s) of this resource"
        },
        "@context": {
          "oneOf": [
            {
              "type": "string",
              "format": "uri"
            },
            {
              "type": "object",
              "additionalProperties": false
            },
            {
              "type": "array"
            }
          ],
          "description": "JSON-LD context for semantic mapping"
        },
        "sameAs": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string",
            "format": "uri"
          },
          "description": "URIs of equivalent resources (owl:sameAs)"
        },
        "relatedTo": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "properties": {
              "uri": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uri"
              },
              "relation": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Type of relationship"
              },
              "description": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "description",
              "relation",
              "uri"
            ]
          },
          "description": "Related resources with relationship types"
        }
      },
      "required": [
        "@context",
        "@id",
        "@type",
        "relatedTo",
        "sameAs"
      ]
    },
    "SemanticAnnotation": {
      "type": "object",
      "additionalProperties": false,
      "description": "Semantic annotation linking to knowledge graphs",
      "properties": {
        "concept_uri": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri",
          "description": "URI of the semantic concept"
        },
        "ontology": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "MESH",
            "SNOMED-CT",
            "LOINC",
            "FHIR",
            "Schema.org",
            "FAIR",
            "Other"
          ],
          "description": "Source ontology or vocabulary"
        },
        "confidence": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Confidence score for this annotation"
        },
        "annotation_method": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "manual",
            "automatic",
            "hybrid",
            "crowdsourced"
          ],
          "description": "Method used for semantic annotation"
        },
        "evidence": {
          "type": [
            "string",
            "null"
          ],
          "description": "Evidence or reasoning for this annotation"
        }
      },
      "required": [
        "annotation_method",
        "concept_uri",
        "confidence",
        "evidence",
        "ontology"
      ]
    },
    "ValueWithRaw": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "value": {
          "type": [
            "string",
            "number",
            "integer",
            "boolean",
            "null"
          ],
          "description": "Processed/normalized value"
        },
        "raw_text": {
          "type": [
            "string",
            "null"
          ],
          "description": "Original text as found in document"
        },
        "unit_ucum": {
          "type": [
            "string",
            "null"
          ],
          "description": "UCUM unit code if applicable"
        },
        "transformation_confidence": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Confidence in the raw→processed transformation"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        },
        "provenance": {
          "$ref": "#/$defs/Provenance"
        }
      },
      "required": [
        "provenance",
        "raw_text",
        "source",
        "transformation_confidence",
        "unit_ucum",
        "value"
      ]
    },
    "Measurement": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "abnormal_flag",
        "assay_method",
        "measurement_timestamp",
        "provenance",
        "reference_range",
        "source",
        "unit_ucum",
        "value"
      ],
      "properties": {
        "value": {
          "type": "number",
          "description": "Measured value"
        },
        "unit_ucum": {
          "type": [
            "string",
            "null"
          ],
          "description": "UCUM unit code"
        },
        "assay_method": {
          "type": [
            "string",
            "null"
          ],
          "description": "Laboratory assay or measurement method"
        },
        "reference_range": {
          "type": [
            "object",
            "null"
          ],
          "additionalProperties": false,
          "properties": {
            "low": {
              "type": "number",
              "description": "Lower bound of normal range"
            },
            "high": {
              "type": "number",
              "description": "Upper bound of normal range"
            }
          }
        },
        "abnormal_flag": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "normal",
            "high",
            "low",
            "abnormal",
            "critical",
            "unknown"
          ],
          "description": "Clinical significance flag"
        },
        "measurement_timestamp": {
          "type": [
            "string",
            "null"
          ],
          "format": "date-time",
          "description": "When measurement was taken"
        },
        "source": {
          "$ref": "#/$defs/SourceRef"
        },
        "provenance": {
          "$ref": "#/$defs/Provenance"
        }
      }
    },
    "ExternalId": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "id",
        "source",
        "url",
        "version"
      ],
      "properties": {
        "source": {
          "type": "string",
          "enum": [
            "PMID",
            "PMCID",
            "DOI",
            "NCT",
            "ISRCTN",
            "EudraCT",
            "EU-CTR",
            "CTIS",
            "UMIN",
            "JPRN",
            "DRKS",
            "ChiCTR",
            "ANZCTR",
            "arXiv",
            "bioRxiv",
            "medRxiv",
            "PubPeer",
            "ISBN",
            "ISSN",
            "Handle",
            "URN",
            "Other"
          ],
          "description": "External identifier source system including preprint servers and academic publishers"
        },
        "id": {
          "type": "string",
          "description": "Identifier value within the source system",
          "examples": [
            "1234.5678",
            "2023.01.001",
            "10.1101/2023.01.01.123456",
            "978-0-123456-78-9"
          ]
        },
        "url": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri",
          "description": "Optional direct URL to the external resource"
        },
        "version": {
          "type": [
            "string",
            "null"
          ],
          "description": "Version number for preprints or versioned documents"
        }
      }
    },
    "ResearcherIdentifier": {
      "type": "object",
      "additionalProperties": false,
      "description": "Academic researcher identifier",
      "required": [
        "id",
        "type",
        "url"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "ORCID",
            "ResearcherID",
            "Scopus",
            "Google_Scholar",
            "Other"
          ],
          "description": "Type of researcher identifier"
        },
        "id": {
          "type": "string",
          "description": "Identifier value"
        },
        "url": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri",
          "description": "Profile URL"
        }
      }
    },
    "InstitutionIdentifier": {
      "type": "object",
      "additionalProperties": false,
      "description": "Institutional identifier (ROR, GRID, etc.)",
      "required": [
        "id",
        "name",
        "type",
        "url"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "ROR",
            "GRID",
            "ISNI",
            "Wikidata",
            "Other"
          ],
          "description": "Type of institutional identifier"
        },
        "id": {
          "type": "string",
          "description": "Identifier value"
        },
        "name": {
          "type": [
            "string",
            "null"
          ],
          "description": "Institution name"
        },
        "url": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri",
          "description": "Institution URL"
        }
      }
    },
    "GrantIdentifier": {
      "type": "object",
      "additionalProperties": false,
      "description": "Research grant or funding identifier",
      "required": [
        "award_id",
        "award_title",
        "funder",
        "funder_id",
        "funding_program"
      ],
      "properties": {
        "funder": {
          "type": "string",
          "description": "Funding organization name"
        },
        "funder_id": {
          "type": [
            "string",
            "null"
          ],
          "description": "Funder identifier (e.g., Crossref Funder ID)"
        },
        "award_id": {
          "type": "string",
          "description": "Grant/award number"
        },
        "award_title": {
          "type": [
            "string",
            "null"
          ],
          "description": "Grant title"
        },
        "funding_program": {
          "type": [
            "string",
            "null"
          ],
          "description": "Specific funding program or mechanism"
        }
      }
    },
    "RegulatoryStatus": {
      "type": "object",
      "additionalProperties": false,
      "description": "Regulatory approval and designation status",
      "properties": {
        "agency": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "FDA",
            "EMA",
            "PMDA",
            "Health_Canada",
            "TGA",
            "NMPA",
            "Other"
          ],
          "description": "Regulatory agency"
        },
        "status": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "pre_clinical",
            "IND_submitted",
            "clinical_hold",
            "fast_track",
            "breakthrough_therapy",
            "orphan_designation",
            "priority_review",
            "accelerated_approval",
            "approved",
            "withdrawn",
            "other"
          ],
          "description": "Current regulatory status"
        },
        "designation_date": {
          "type": [
            "string",
            "null"
          ],
          "format": "date",
          "description": "Date of status/designation"
        },
        "indication": {
          "type": [
            "string",
            "null"
          ],
          "description": "Medical indication for this status"
        }
      },
      "required": [
        "agency",
        "designation_date",
        "indication",
        "status"
      ]
    },
    "ClinicalScore": {
      "type": "object",
      "additionalProperties": false,
      "description": "Clinical assessment score or risk calculator",
      "required": [
        "age_specific",
        "components",
        "interpretation",
        "name",
        "percentile",
        "risk_category",
        "value"
      ],
      "properties": {
        "name": {
          "type": "string",
          "enum": [
            "APACHE_II",
            "APACHE_III",
            "SOFA",
            "SAPS_II",
            "Glasgow_Coma_Scale",
            "Charlson_Comorbidity_Index",
            "Elixhauser_Comorbidity_Index",
            "ASA_Physical_Status",
            "NYHA_Class",
            "Child_Pugh_Score",
            "MELD_Score",
            "Framingham_Risk_Score",
            "CHADS2",
            "CHA2DS2_VASc",
            "HAS_BLED",
            "CRUSADE_Score",
            "PEWS",
            "PRISM_III",
            "PIM_3",
            "Pediatric_Glasgow_Coma_Scale",
            "SNAPPE_II",
            "Clinical_Frailty_Scale",
            "Rockwood_Frailty_Scale",
            "FRAIL_Scale",
            "Fried_Frailty_Phenotype",
            "Katz_ADL",
            "Lawton_IADL",
            "Barthel_Index",
            "Mini_Mental_State_Exam",
            "MoCA",
            "Geriatric_Depression_Scale",
            "Berg_Balance_Scale",
            "Timed_Up_and_Go",
            "Other"
          ],
          "description": "Standardized clinical scoring system including pediatric and geriatric assessments"
        },
        "value": {
          "type": "number",
          "description": "Calculated score value"
        },
        "interpretation": {
          "type": [
            "string",
            "null"
          ],
          "description": "Clinical interpretation of the score (e.g., 'low risk', 'severe')"
        },
        "percentile": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 100,
          "description": "Percentile rank of this score"
        },
        "risk_category": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "low",
            "low_moderate",
            "moderate",
            "moderate_high",
            "high",
            "very_high"
          ],
          "description": "Risk stratification category"
        },
        "age_specific": {
          "$ref": "#/$defs/AgeSpecificAssessment"
        },
        "components": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "properties": {
              "component": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "value": {
                "type": [
                  "number",
                  "null"
                ]
              },
              "points": {
                "type": [
                  "number",
                  "null"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "component",
              "points",
              "value"
            ]
          },
          "description": "Individual components contributing to the score"
        }
      }
    },
    "AgeSpecificAssessment": {
      "type": "object",
      "additionalProperties": false,
      "description": "Age-specific clinical assessment considerations",
      "properties": {
        "patient_age_group": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "neonate",
            "infant",
            "toddler",
            "preschool",
            "school_age",
            "adolescent",
            "young_adult",
            "adult",
            "older_adult",
            "elderly",
            "very_elderly"
          ],
          "description": "Patient age category for contextualized assessment"
        },
        "pediatric_considerations": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "age_months": {
              "type": "number",
              "minimum": 0,
              "description": "Age in months for pediatric patients"
            },
            "developmental_stage": {
              "type": "string",
              "enum": [
                "neonatal",
                "infant",
                "toddler",
                "preschool",
                "school_age",
                "adolescent"
              ]
            },
            "weight_percentile": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "height_percentile": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "premature_birth": {
              "type": "boolean",
              "description": "Whether patient was born prematurely"
            },
            "corrected_age": {
              "type": "number",
              "description": "Corrected age for premature infants"
            }
          },
          "additionalProperties": false
        },
        "geriatric_considerations": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "frailty_status": {
              "type": "string",
              "enum": [
                "robust",
                "pre_frail",
                "frail",
                "severely_frail",
                "unknown"
              ]
            },
            "cognitive_impairment": {
              "type": "boolean"
            },
            "polypharmacy": {
              "type": "boolean",
              "description": "Taking 5 or more medications"
            },
            "functional_decline": {
              "type": "boolean"
            },
            "social_support": {
              "type": "string",
              "enum": [
                "excellent",
                "good",
                "moderate",
                "poor",
                "unknown"
              ]
            },
            "fall_risk": {
              "type": "string",
              "enum": [
                "low",
                "moderate",
                "high",
                "very_high",
                "unknown"
              ]
            }
          },
          "additionalProperties": false
        },
        "normative_data": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "reference_population": {
              "type": "string"
            },
            "age_adjusted_percentile": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "sex_specific_norms": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        }
      },
      "required": [
        "geriatric_considerations",
        "normative_data",
        "patient_age_group",
        "pediatric_considerations"
      ]
    },
    "DrugClassification": {
      "type": "object",
      "additionalProperties": false,
      "description": "Drug/medication classification and coding",
      "required": [
        "atc_code",
        "controlled_substance",
        "mechanism_of_action",
        "name",
        "pharmacogenomics",
        "pregnancy_category",
        "route_of_administration",
        "therapeutic_class"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "Generic or brand name of the drug"
        },
        "atc_code": {
          "type": [
            "string",
            "null"
          ],
          "pattern": "^[A-Z]\\d{2}[A-Z]{2}\\d{2}$",
          "description": "Anatomical Therapeutic Chemical (ATC) classification code"
        },
        "therapeutic_class": {
          "type": [
            "string",
            "null"
          ],
          "description": "Therapeutic classification (e.g., 'antihypertensive', 'antibiotic')"
        },
        "mechanism_of_action": {
          "type": [
            "string",
            "null"
          ],
          "description": "Primary mechanism of action"
        },
        "route_of_administration": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "oral",
            "intravenous",
            "intramuscular",
            "subcutaneous",
            "topical",
            "inhalation",
            "rectal",
            "transdermal",
            "sublingual",
            "other"
          ]
        },
        "controlled_substance": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "schedule": {
              "type": "string",
              "enum": [
                "I",
                "II",
                "III",
                "IV",
                "V",
                "not_controlled"
              ]
            },
            "jurisdiction": {
              "type": "string",
              "description": "Regulatory jurisdiction (e.g., 'DEA', 'Health Canada')"
            }
          },
          "additionalProperties": false
        },
        "pregnancy_category": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "A",
            "B",
            "C",
            "D",
            "X",
            "unknown"
          ],
          "description": "FDA pregnancy risk category"
        },
        "pharmacogenomics": {
          "$ref": "#/$defs/PharmacogenomicProfile"
        }
      }
    },
    "PharmacogenomicProfile": {
      "type": "object",
      "additionalProperties": false,
      "description": "Pharmacogenomic information for precision medicine",
      "properties": {
        "metabolizing_enzymes": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "required": [
              "activity_score",
              "clinical_relevance",
              "enzyme",
              "gene",
              "phenotype_prediction"
            ],
            "properties": {
              "gene": {
                "type": "string",
                "enum": [
                  "CYP2D6",
                  "CYP2C19",
                  "CYP2C9",
                  "CYP3A4",
                  "CYP3A5",
                  "CYP1A2",
                  "UGT1A1",
                  "TPMT",
                  "DPYD",
                  "Other"
                ],
                "description": "Gene encoding metabolizing enzyme"
              },
              "enzyme": {
                "type": "string",
                "description": "Enzyme name"
              },
              "phenotype_prediction": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "ultrarapid_metabolizer",
                  "extensive_metabolizer",
                  "intermediate_metabolizer",
                  "poor_metabolizer",
                  "unknown"
                ],
                "description": "Predicted metabolizer phenotype"
              },
              "activity_score": {
                "type": [
                  "number",
                  "null"
                ],
                "minimum": 0,
                "description": "Predicted enzyme activity score"
              },
              "clinical_relevance": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "high",
                  "moderate",
                  "low",
                  "unknown"
                ],
                "description": "Clinical significance of the genetic variant"
              }
            },
            "additionalProperties": false
          }
        },
        "drug_targets": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "properties": {
              "gene": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Target gene"
              },
              "protein": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Target protein"
              },
              "variant": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Genetic variant affecting drug target"
              },
              "effect": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "increased_efficacy",
                  "decreased_efficacy",
                  "increased_toxicity",
                  "decreased_toxicity",
                  "no_effect",
                  "unknown"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "effect",
              "gene",
              "protein",
              "variant"
            ]
          }
        },
        "hla_associations": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "properties": {
              "hla_allele": {
                "type": [
                  "string",
                  "null"
                ],
                "pattern": "^HLA-[A-Z]\\*\\d{2}:\\d{2}",
                "description": "HLA allele associated with drug reaction"
              },
              "reaction_type": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "stevens_johnson_syndrome",
                  "dress",
                  "hepatotoxicity",
                  "hypersensitivity",
                  "other"
                ]
              },
              "odds_ratio": {
                "type": [
                  "number",
                  "null"
                ],
                "minimum": 0
              },
              "population": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Population where association was observed"
              }
            },
            "additionalProperties": false,
            "required": [
              "hla_allele",
              "odds_ratio",
              "population",
              "reaction_type"
            ]
          }
        },
        "guidelines": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "properties": {
              "source": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "CPIC",
                  "DPWG",
                  "FDA",
                  "EMA",
                  "PharmGKB",
                  "Other"
                ],
                "description": "Guideline source organization"
              },
              "recommendation": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Clinical recommendation"
              },
              "evidence_level": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "A",
                  "B",
                  "C",
                  "D",
                  "insufficient"
                ],
                "description": "Level of evidence supporting the recommendation"
              },
              "url": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uri"
              }
            },
            "additionalProperties": false,
            "required": [
              "evidence_level",
              "recommendation",
              "source",
              "url"
            ]
          }
        }
      },
      "required": [
        "drug_targets",
        "guidelines",
        "hla_associations",
        "metabolizing_enzymes"
      ]
    },
    "PrecisionMedicineMarker": {
      "type": "object",
      "additionalProperties": false,
      "description": "Precision medicine biomarker information",
      "properties": {
        "marker_type": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "genomic",
            "proteomic",
            "metabolomic",
            "transcriptomic",
            "epigenomic",
            "multi_omic"
          ],
          "description": "Type of biomarker"
        },
        "clinical_application": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "diagnostic",
            "prognostic",
            "predictive",
            "pharmacodynamic",
            "safety",
            "companion_diagnostic"
          ],
          "description": "Clinical use of the biomarker"
        },
        "genomic_coordinates": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "chromosome": {
              "type": "string",
              "pattern": "^(chr)?(\\d{1,2}|X|Y|MT)$"
            },
            "position": {
              "type": "integer",
              "minimum": 1
            },
            "reference_allele": {
              "type": "string"
            },
            "alternative_allele": {
              "type": "string"
            },
            "genome_build": {
              "type": "string",
              "enum": [
                "GRCh37",
                "GRCh38",
                "hg19",
                "hg38"
              ]
            }
          },
          "additionalProperties": false
        },
        "variant_annotation": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "rs_id": {
              "type": "string",
              "pattern": "^rs\\d+$",
              "description": "dbSNP reference SNP ID"
            },
            "hgvs_notation": {
              "type": "string",
              "description": "HGVS nomenclature"
            },
            "consequence": {
              "type": "string",
              "enum": [
                "missense",
                "nonsense",
                "frameshift",
                "splice_site",
                "synonymous",
                "intronic",
                "regulatory",
                "other"
              ]
            },
            "pathogenicity": {
              "type": "string",
              "enum": [
                "pathogenic",
                "likely_pathogenic",
                "uncertain_significance",
                "likely_benign",
                "benign"
              ],
              "description": "Clinical significance classification"
            }
          },
          "additionalProperties": false
        },
        "expression_data": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "tissue_type": {
              "type": "string"
            },
            "expression_level": {
              "type": "number"
            },
            "fold_change": {
              "type": "number"
            },
            "p_value": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            }
          },
          "additionalProperties": false
        },
        "therapeutic_implications": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "properties": {
              "drug_name": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "response_prediction": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "responsive",
                  "resistant",
                  "intermediate",
                  "unknown"
                ]
              },
              "evidence_level": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "I",
                  "II",
                  "III",
                  "IV"
                ]
              },
              "clinical_trials": {
                "type": [
                  "array",
                  "null"
                ],
                "items": {
                  "type": "string"
                },
                "description": "Related clinical trial identifiers"
              }
            },
            "additionalProperties": false,
            "required": [
              "clinical_trials",
              "drug_name",
              "evidence_level",
              "response_prediction"
            ]
          }
        }
      },
      "required": [
        "clinical_application",
        "expression_data",
        "genomic_coordinates",
        "marker_type",
        "therapeutic_implications",
        "variant_annotation"
      ]
    },
    "SeverityScale": {
      "type": "object",
      "additionalProperties": false,
      "description": "Clinical severity assessment scale",
      "required": [
        "description",
        "grade",
        "numeric_value",
        "scale_name",
        "version"
      ],
      "properties": {
        "scale_name": {
          "type": "string",
          "enum": [
            "CTCAE_v5",
            "WHO_Toxicity",
            "NCI_CTC",
            "Common_Toxicity_Criteria",
            "Glasgow_Coma_Scale",
            "Richmond_Agitation_Sedation_Scale",
            "Pain_Scale_0_10",
            "Modified_Rankin_Scale",
            "ECOG_Performance_Status",
            "Karnofsky_Performance_Status",
            "Other"
          ],
          "description": "Standardized severity or grading scale"
        },
        "grade": {
          "type": "string",
          "description": "Grade or level on the scale (e.g., '1', '2', 'mild', 'severe')"
        },
        "numeric_value": {
          "type": [
            "number",
            "null"
          ],
          "description": "Numeric representation of the grade"
        },
        "description": {
          "type": [
            "string",
            "null"
          ],
          "description": "Textual description of what this grade means"
        },
        "version": {
          "type": [
            "string",
            "null"
          ],
          "description": "Version of the scale used (e.g., 'v5.0' for CTCAE)"
        }
      }
    },
    "BoundingBox": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "coordinate_system",
        "height",
        "width",
        "x",
        "y"
      ],
      "properties": {
        "x": {
          "type": "number",
          "minimum": 0,
          "description": "Left coordinate (points from PDF origin)"
        },
        "y": {
          "type": "number",
          "minimum": 0,
          "description": "Bottom coordinate (points from PDF origin)"
        },
        "width": {
          "type": "number",
          "minimum": 0,
          "description": "Width in points"
        },
        "height": {
          "type": "number",
          "minimum": 0,
          "description": "Height in points"
        },
        "coordinate_system": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "pdf_points",
            "screen_pixels"
          ],
          "description": "Coordinate system used for measurements"
        }
      }
    },
    "Passage": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "anchor",
        "bbox",
        "extraction_method",
        "ocr_confidence",
        "page",
        "text"
      ],
      "properties": {
        "text": {
          "type": "string",
          "description": "Extracted text content"
        },
        "page": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "description": "Page number where text was found"
        },
        "bbox": {
          "$ref": "#/$defs/BoundingBox"
        },
        "anchor": {
          "type": [
            "string",
            "null"
          ],
          "description": "Human-readable location reference"
        },
        "ocr_confidence": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "OCR confidence score for this text passage"
        },
        "extraction_method": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "ocr",
            "text_layer",
            "manual"
          ],
          "description": "Method used to extract this text"
        }
      }
    },
    "Quantity": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "unit_text",
        "unit_ucum",
        "value"
      ],
      "properties": {
        "value": {
          "type": "number"
        },
        "unit_text": {
          "type": [
            "string",
            "null"
          ]
        },
        "unit_ucum": {
          "type": [
            "string",
            "null"
          ]
        }
      }
    },
    "NumberOrValueWithRaw": {
      "oneOf": [
        {
          "type": "number"
        },
        {
          "$ref": "#/$defs/ValueWithRaw"
        }
      ]
    },
    "StringOrValueWithRaw": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "$ref": "#/$defs/ValueWithRaw"
        }
      ]
    },
    "TimepointAnchor": {
      "type": "string",
      "enum": [
        "baseline",
        "preoperative",
        "intraoperative",
        "postoperative",
        "discharge",
        "30d",
        "90d",
        "6m",
        "12m",
        "longest_followup",
        "other",
        "unknown"
      ],
      "description": "Standardized study timepoint anchors"
    },
    "TimeRange": {
      "type": "object",
      "additionalProperties": false,
      "description": "Time period with start and end points",
      "properties": {
        "start": {
          "type": [
            "string",
            "null"
          ],
          "format": "date-time",
          "description": "Start timestamp"
        },
        "end": {
          "type": [
            "string",
            "null"
          ],
          "format": "date-time",
          "description": "End timestamp"
        },
        "duration": {
          "$ref": "#/$defs/ISO8601Duration"
        },
        "ongoing": {
          "type": [
            "boolean",
            "null"
          ],
          "description": "Whether the period is still active"
        }
      },
      "required": [
        "duration",
        "end",
        "ongoing",
        "start"
      ]
    },
    "FollowupSchedule": {
      "type": "object",
      "additionalProperties": false,
      "description": "Structured follow-up assessment schedule",
      "required": [
        "primary_endpoint_timepoint",
        "timepoints"
      ],
      "properties": {
        "timepoints": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "anchor",
              "assessments",
              "duration_from_baseline",
              "window"
            ],
            "properties": {
              "anchor": {
                "$ref": "#/$defs/TimepointAnchor"
              },
              "duration_from_baseline": {
                "$ref": "#/$defs/ISO8601Duration"
              },
              "assessments": {
                "type": [
                  "array",
                  "null"
                ],
                "items": {
                  "type": "string"
                },
                "description": "Assessments performed at this timepoint"
              },
              "window": {
                "type": [
                  "object",
                  "null"
                ],
                "properties": {
                  "before": {
                    "$ref": "#/$defs/ISO8601Duration"
                  },
                  "after": {
                    "$ref": "#/$defs/ISO8601Duration"
                  }
                },
                "description": "Acceptable time window around scheduled timepoint",
                "additionalProperties": false
              }
            },
            "additionalProperties": false
          },
          "description": "Scheduled follow-up timepoints"
        },
        "primary_endpoint_timepoint": {
          "$ref": "#/$defs/TimepointAnchor"
        }
      }
    },
    "StudyPhase": {
      "type": "string",
      "enum": [
        "preclinical",
        "phase_0",
        "phase_I",
        "phase_II",
        "phase_III",
        "phase_IV",
        "pilot",
        "feasibility",
        "proof_of_concept",
        "first_in_human",
        "other"
      ],
      "description": "Clinical trial or study phase classification"
    },
    "ParsingContext": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "ai_processing",
        "language_detected",
        "ocr_engine",
        "ocr_quality_score",
        "page_count",
        "parser_name",
        "parser_version",
        "parsing_timestamp",
        "parsing_warnings",
        "pdf_producer",
        "sections_detected"
      ],
      "properties": {
        "parser_name": {
          "type": "string",
          "description": "Name of the parsing tool/library used"
        },
        "parser_version": {
          "type": [
            "string",
            "null"
          ],
          "description": "Version of the parsing tool"
        },
        "parsing_timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "When parsing was performed"
        },
        "language_detected": {
          "$ref": "#/$defs/LanguageCode"
        },
        "ocr_engine": {
          "type": [
            "string",
            "null"
          ],
          "description": "OCR engine used (if applicable)"
        },
        "ocr_quality_score": {
          "type": [
            "number",
            "null"
          ],
          "minimum": 0,
          "maximum": 1,
          "description": "Overall OCR quality assessment"
        },
        "pdf_producer": {
          "type": [
            "string",
            "null"
          ],
          "description": "Software that generated the PDF"
        },
        "page_count": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 1,
          "description": "Total pages in document"
        },
        "sections_detected": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          },
          "description": "Document sections automatically detected"
        },
        "parsing_warnings": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          },
          "description": "Warnings encountered during parsing"
        },
        "ai_processing": {
          "$ref": "#/$defs/AIProcessingMetadata"
        }
      }
    },
    "AIProcessingMetadata": {
      "type": "object",
      "additionalProperties": false,
      "description": "Metadata for AI/ML processing and bias detection",
      "properties": {
        "model_info": {
          "type": [
            "object",
            "null"
          ],
          "required": [
            "name",
            "version"
          ],
          "properties": {
            "name": {
              "type": "string",
              "description": "Model name or identifier"
            },
            "version": {
              "type": "string",
              "description": "Model version"
            },
            "architecture": {
              "type": "string",
              "enum": [
                "transformer",
                "cnn",
                "rnn",
                "lstm",
                "gru",
                "bert",
                "gpt",
                "ensemble",
                "classical_ml",
                "other"
              ],
              "description": "Model architecture type"
            },
            "training_data_size": {
              "type": "integer",
              "minimum": 0
            },
            "training_date": {
              "type": "string",
              "format": "date"
            },
            "fine_tuned": {
              "type": "boolean",
              "description": "Whether model was fine-tuned for specific domain"
            },
            "domain_specific": {
              "type": "boolean",
              "description": "Whether model is domain-specific (e.g., medical)"
            }
          },
          "additionalProperties": false
        },
        "performance_metrics": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "accuracy": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "precision": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "recall": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "f1_score": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "auc_roc": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "confidence_interval": {
              "$ref": "#/$defs/EffectCI"
            },
            "validation_method": {
              "type": "string",
              "enum": [
                "cross_validation",
                "holdout",
                "temporal_split",
                "external_validation",
                "other"
              ]
            },
            "test_set_size": {
              "type": "integer",
              "minimum": 0
            }
          },
          "additionalProperties": false
        },
        "bias_assessment": {
          "type": [
            "object",
            "null"
          ],
          "description": "Assessment of potential biases in AI model",
          "properties": {
            "demographic_bias": {
              "type": "object",
              "properties": {
                "assessed": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "bias_detected": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "affected_groups": {
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "type": "string"
                  },
                  "description": "Demographic groups showing bias"
                },
                "mitigation_applied": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "fairness_metrics": {
                  "type": [
                    "object",
                    "null"
                  ],
                  "properties": {
                    "demographic_parity": {
                      "type": "number"
                    },
                    "equalized_odds": {
                      "type": "number"
                    },
                    "calibration": {
                      "type": "number"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false,
              "required": [
                "affected_groups",
                "assessed",
                "bias_detected",
                "fairness_metrics",
                "mitigation_applied"
              ]
            },
            "selection_bias": {
              "type": "object",
              "properties": {
                "training_data_representativeness": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "high",
                    "moderate",
                    "low",
                    "unknown"
                  ]
                },
                "sampling_method": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "geographic_bias": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "temporal_bias": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                }
              },
              "additionalProperties": false,
              "required": [
                "geographic_bias",
                "sampling_method",
                "temporal_bias",
                "training_data_representativeness"
              ]
            },
            "confirmation_bias": {
              "type": "object",
              "properties": {
                "label_quality_assessment": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "inter_annotator_agreement": {
                  "type": [
                    "number",
                    "null"
                  ],
                  "minimum": 0,
                  "maximum": 1
                },
                "annotation_guidelines": {
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "additionalProperties": false,
              "required": [
                "annotation_guidelines",
                "inter_annotator_agreement",
                "label_quality_assessment"
              ]
            }
          },
          "additionalProperties": false
        },
        "explainability": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "lime",
                "shap",
                "attention_weights",
                "gradient_attribution",
                "integrated_gradients",
                "permutation_importance",
                "other"
              ],
              "description": "Explainability method used"
            },
            "feature_importance": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "feature": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "importance_score": {
                    "type": [
                      "number",
                      "null"
                    ]
                  },
                  "rank": {
                    "type": [
                      "integer",
                      "null"
                    ],
                    "minimum": 1
                  }
                },
                "additionalProperties": false,
                "required": [
                  "feature",
                  "importance_score",
                  "rank"
                ]
              }
            },
            "global_explanations": {
              "type": "boolean"
            },
            "local_explanations": {
              "type": "boolean"
            },
            "counterfactual_examples": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        },
        "uncertainty_quantification": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "bayesian",
                "ensemble",
                "monte_carlo_dropout",
                "conformal_prediction",
                "none"
              ],
              "description": "Uncertainty quantification method"
            },
            "epistemic_uncertainty": {
              "type": "number",
              "description": "Model uncertainty"
            },
            "aleatoric_uncertainty": {
              "type": "number",
              "description": "Data uncertainty"
            },
            "prediction_intervals": {
              "type": "boolean"
            },
            "out_of_distribution_detection": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        },
        "ethical_considerations": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "informed_consent": {
              "type": "boolean",
              "description": "Whether data subjects provided informed consent for AI processing"
            },
            "data_minimization": {
              "type": "boolean",
              "description": "Whether data minimization principle was applied"
            },
            "right_to_explanation": {
              "type": "boolean",
              "description": "Whether explanations are provided to affected individuals"
            },
            "human_oversight": {
              "type": "string",
              "enum": [
                "human_in_the_loop",
                "human_on_the_loop",
                "human_out_of_the_loop"
              ],
              "description": "Level of human oversight in AI decisions"
            },
            "impact_assessment": {
              "type": "boolean",
              "description": "Whether algorithmic impact assessment was conducted"
            }
          },
          "additionalProperties": false
        }
      },
      "required": [
        "bias_assessment",
        "ethical_considerations",
        "explainability",
        "model_info",
        "performance_metrics",
        "uncertainty_quantification"
      ]
    },
    "SupplementFile": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "checksum",
        "content_type",
        "doi",
        "file_size",
        "filename",
        "label",
        "url"
      ],
      "properties": {
        "label": {
          "type": "string"
        },
        "filename": {
          "type": [
            "string",
            "null"
          ]
        },
        "url": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri"
        },
        "doi": {
          "type": [
            "string",
            "null"
          ],
          "pattern": "^10\\.\\d{4,9}/[-._;()/:A-Za-z0-9]+$"
        },
        "content_type": {
          "type": [
            "string",
            "null"
          ]
        },
        "file_size": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 0,
          "description": "File size in bytes"
        },
        "checksum": {
          "$ref": "#/$defs/DataIntegrity"
        }
      }
    },
    "DataIntegrity": {
      "type": "object",
      "additionalProperties": false,
      "description": "Data integrity verification with multiple hash algorithms",
      "required": [
        "algorithm",
        "multiple_hashes",
        "salt",
        "value",
        "verification_timestamp",
        "verified_by"
      ],
      "properties": {
        "algorithm": {
          "type": "string",
          "enum": [
            "SHA-256",
            "SHA-512",
            "SHA-3-256",
            "SHA-3-512",
            "BLAKE2b",
            "SHA-1",
            "MD5",
            "CRC32"
          ],
          "description": "Cryptographic hash algorithm used"
        },
        "value": {
          "type": "string",
          "description": "Hex-encoded hash value"
        },
        "salt": {
          "type": [
            "string",
            "null"
          ],
          "description": "Optional salt value for enhanced security"
        },
        "verification_timestamp": {
          "type": [
            "string",
            "null"
          ],
          "format": "date-time",
          "description": "When the hash was computed or verified"
        },
        "verified_by": {
          "type": [
            "string",
            "null"
          ],
          "description": "System or person who verified the hash"
        },
        "multiple_hashes": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "required": [
              "algorithm",
              "value"
            ],
            "properties": {
              "algorithm": {
                "type": "string"
              },
              "value": {
                "type": "string"
              }
            },
            "additionalProperties": false
          },
          "description": "Additional hash values using different algorithms for enhanced verification"
        }
      }
    },
    "DataProtectionCompliance": {
      "type": "object",
      "additionalProperties": false,
      "description": "Data protection and privacy compliance information",
      "properties": {
        "gdpr_compliance": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "lawful_basis": {
              "type": "string",
              "enum": [
                "consent",
                "contract",
                "legal_obligation",
                "vital_interests",
                "public_task",
                "legitimate_interests"
              ],
              "description": "GDPR Article 6 lawful basis for processing"
            },
            "special_categories_basis": {
              "type": "string",
              "enum": [
                "explicit_consent",
                "employment_law",
                "vital_interests",
                "public_health",
                "scientific_research",
                "archiving",
                "not_applicable"
              ],
              "description": "GDPR Article 9 basis for special category data"
            },
            "data_subject_rights": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "access",
                  "rectification",
                  "erasure",
                  "restrict",
                  "portability",
                  "object"
                ]
              }
            }
          },
          "additionalProperties": false
        },
        "hipaa_compliance": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "covered_entity": {
              "type": "boolean",
              "description": "Whether organization is HIPAA covered entity"
            },
            "de_identification_method": {
              "type": "string",
              "enum": [
                "safe_harbor",
                "expert_determination",
                "not_applicable"
              ],
              "description": "HIPAA de-identification method used"
            },
            "business_associate_agreement": {
              "type": "boolean",
              "description": "Whether BAA is in place for third parties"
            }
          },
          "additionalProperties": false
        },
        "geographic_restrictions": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "properties": {
              "region": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Geographic region (e.g., 'EU', 'US', 'Canada')"
              },
              "restriction_type": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "data_localization",
                  "access_restriction",
                  "transfer_prohibition"
                ]
              },
              "rationale": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "rationale",
              "region",
              "restriction_type"
            ]
          }
        },
        "encryption_standards": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "data_at_rest": {
              "type": "object",
              "properties": {
                "algorithm": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "AES-256",
                    "AES-128",
                    "ChaCha20-Poly1305",
                    "Other"
                  ]
                },
                "key_management": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "HSM",
                    "KMS",
                    "BYOK",
                    "customer_managed",
                    "provider_managed"
                  ]
                }
              },
              "additionalProperties": false,
              "required": [
                "algorithm",
                "key_management"
              ]
            },
            "data_in_transit": {
              "type": "object",
              "properties": {
                "protocol": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "TLS_1.3",
                    "TLS_1.2",
                    "mTLS",
                    "Other"
                  ]
                },
                "certificate_validation": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                }
              },
              "additionalProperties": false,
              "required": [
                "certificate_validation",
                "protocol"
              ]
            },
            "data_in_use": {
              "type": "object",
              "properties": {
                "method": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "secure_enclaves",
                    "homomorphic_encryption",
                    "confidential_computing",
                    "none"
                  ]
                },
                "attestation": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                }
              },
              "additionalProperties": false,
              "required": [
                "attestation",
                "method"
              ]
            }
          },
          "additionalProperties": false
        },
        "privacy_enhancing_technologies": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "differential_privacy": {
              "type": "object",
              "properties": {
                "applied": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "epsilon": {
                  "type": [
                    "number",
                    "null"
                  ],
                  "minimum": 0,
                  "description": "Privacy budget parameter"
                },
                "delta": {
                  "type": [
                    "number",
                    "null"
                  ],
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Failure probability"
                },
                "mechanism": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "laplace",
                    "gaussian",
                    "exponential",
                    "sparse_vector",
                    "other"
                  ]
                }
              },
              "additionalProperties": false,
              "required": [
                "applied",
                "delta",
                "epsilon",
                "mechanism"
              ]
            },
            "federated_learning": {
              "type": "object",
              "properties": {
                "applied": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "aggregation_method": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "federated_averaging",
                    "secure_aggregation",
                    "differential_private_aggregation"
                  ]
                },
                "participants": {
                  "type": [
                    "integer",
                    "null"
                  ],
                  "minimum": 1
                }
              },
              "additionalProperties": false,
              "required": [
                "aggregation_method",
                "applied",
                "participants"
              ]
            },
            "synthetic_data": {
              "type": "object",
              "properties": {
                "applied": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "generation_method": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "gan",
                    "vae",
                    "bayesian_networks",
                    "copulas",
                    "other"
                  ]
                },
                "privacy_metrics": {
                  "type": [
                    "object",
                    "null"
                  ],
                  "properties": {
                    "membership_inference_resistance": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1
                    },
                    "attribute_inference_resistance": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false,
              "required": [
                "applied",
                "generation_method",
                "privacy_metrics"
              ]
            },
            "secure_multiparty_computation": {
              "type": "object",
              "properties": {
                "applied": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "protocol": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "garbled_circuits",
                    "secret_sharing",
                    "homomorphic_encryption",
                    "other"
                  ]
                },
                "security_model": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "semi_honest",
                    "malicious",
                    "covert"
                  ]
                }
              },
              "additionalProperties": false,
              "required": [
                "applied",
                "protocol",
                "security_model"
              ]
            }
          },
          "additionalProperties": false
        },
        "zero_trust_architecture": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "implemented": {
              "type": "boolean"
            },
            "identity_verification": {
              "type": "string",
              "enum": [
                "continuous",
                "session_based",
                "transaction_based"
              ]
            },
            "device_verification": {
              "type": "boolean"
            },
            "network_segmentation": {
              "type": "boolean"
            },
            "least_privilege_access": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        }
      },
      "required": [
        "encryption_standards",
        "gdpr_compliance",
        "geographic_restrictions",
        "hipaa_compliance",
        "privacy_enhancing_technologies",
        "zero_trust_architecture"
      ]
    },
    "BlockchainIntegration": {
      "type": "object",
      "additionalProperties": false,
      "description": "Blockchain/DLT integration for immutable audit trails",
      "properties": {
        "enabled": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "network": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "ethereum",
            "hyperledger_fabric",
            "corda",
            "quorum",
            "private_chain",
            "other"
          ]
        },
        "consensus_mechanism": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "proof_of_work",
            "proof_of_stake",
            "proof_of_authority",
            "pbft",
            "raft",
            "other"
          ]
        },
        "smart_contracts": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "properties": {
              "address": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "function": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Purpose of the smart contract"
              },
              "audit_status": {
                "type": [
                  "string",
                  "null"
                ],
                "enum": [
                  "audited",
                  "self_audited",
                  "not_audited"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "address",
              "audit_status",
              "function"
            ]
          }
        },
        "transaction_hash": {
          "type": [
            "string",
            "null"
          ],
          "pattern": "^0x[a-fA-F0-9]{64}$",
          "description": "Blockchain transaction hash for this record"
        },
        "block_number": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 0
        },
        "gas_used": {
          "type": [
            "integer",
            "null"
          ],
          "minimum": 0
        },
        "immutability_proof": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "merkle_root": {
              "type": "string"
            },
            "timestamp": {
              "type": "string",
              "format": "date-time"
            },
            "validator_signatures": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "additionalProperties": false
        }
      },
      "required": [
        "block_number",
        "consensus_mechanism",
        "enabled",
        "gas_used",
        "immutability_proof",
        "network",
        "smart_contracts",
        "transaction_hash"
      ]
    },
    "AuditTrail": {
      "type": "object",
      "additionalProperties": false,
      "description": "Audit trail and change tracking information",
      "properties": {
        "creation": {
          "type": [
            "object",
            "null"
          ],
          "required": [
            "timestamp",
            "user"
          ],
          "properties": {
            "timestamp": {
              "type": "string",
              "format": "date-time"
            },
            "user": {
              "type": "string"
            },
            "system": {
              "type": "string"
            },
            "ip_address": {
              "type": "string",
              "format": "ipv4"
            }
          },
          "additionalProperties": false
        },
        "modifications": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "required": [
              "action",
              "field_changed",
              "new_value",
              "old_value",
              "reason",
              "timestamp",
              "user"
            ],
            "properties": {
              "timestamp": {
                "type": "string",
                "format": "date-time"
              },
              "user": {
                "type": "string"
              },
              "action": {
                "type": "string",
                "enum": [
                  "create",
                  "read",
                  "update",
                  "delete",
                  "export",
                  "share"
                ]
              },
              "field_changed": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "old_value": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "new_value": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "reason": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "additionalProperties": false
          }
        },
        "access_log": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "object",
            "properties": {
              "timestamp": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "date-time"
              },
              "user": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "action": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "success": {
                "type": [
                  "boolean",
                  "null"
                ]
              },
              "ip_address": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "additionalProperties": false,
            "required": [
              "action",
              "ip_address",
              "success",
              "timestamp",
              "user"
            ]
          }
        },
        "blockchain_anchoring": {
          "$ref": "#/$defs/BlockchainIntegration"
        },
        "immutability_verification": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "hash_chain": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Chain of cryptographic hashes for tamper detection"
            },
            "digital_signatures": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "signer": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "signature": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "algorithm": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "enum": [
                      "RSA",
                      "ECDSA",
                      "EdDSA"
                    ]
                  },
                  "timestamp": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "format": "date-time"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "algorithm",
                  "signature",
                  "signer",
                  "timestamp"
                ]
              }
            },
            "trusted_timestamping": {
              "type": "object",
              "properties": {
                "authority": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp_token": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "verification_url": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "format": "uri"
                }
              },
              "additionalProperties": false,
              "required": [
                "authority",
                "timestamp_token",
                "verification_url"
              ]
            }
          },
          "additionalProperties": false
        }
      },
      "required": [
        "access_log",
        "blockchain_anchoring",
        "creation",
        "immutability_verification",
        "modifications"
      ]
    },
    "ConsentTracking": {
      "type": "object",
      "additionalProperties": false,
      "description": "Patient/participant consent tracking",
      "properties": {
        "consent_obtained": {
          "type": [
            "boolean",
            "null"
          ],
          "description": "Whether informed consent was obtained"
        },
        "consent_type": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "written",
            "verbal",
            "electronic",
            "implied",
            "broad",
            "specific"
          ],
          "description": "Type of consent obtained"
        },
        "consent_scope": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string",
            "enum": [
              "research_participation",
              "data_sharing",
              "publication",
              "genetic_analysis",
              "long_term_storage",
              "commercial_use",
              "international_transfer"
            ]
          }
        },
        "withdrawal_right": {
          "type": [
            "boolean",
            "null"
          ],
          "description": "Whether participant can withdraw consent"
        },
        "consent_document_version": {
          "type": [
            "string",
            "null"
          ]
        },
        "ethics_approval": {
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "committee_name": {
              "type": "string"
            },
            "approval_number": {
              "type": "string"
            },
            "approval_date": {
              "type": "string",
              "format": "date"
            },
            "expiry_date": {
              "type": "string",
              "format": "date"
            }
          },
          "additionalProperties": false
        }
      },
      "required": [
        "consent_document_version",
        "consent_obtained",
        "consent_scope",
        "consent_type",
        "ethics_approval",
        "withdrawal_right"
      ]
    }
  },
  "required": [
    "schema_info"
  ]
}
